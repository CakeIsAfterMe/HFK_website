<!DOCTYPE html>
<html lang="ru" dir="ltr" class="scroll-smooth" data-default-appearance="dark"
  data-auto-appearance="true"><head><script src="/HFK_website/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=HFK_website/livereload" data-no-instant defer></script>
  <meta charset="utf-8" />
  
  <meta http-equiv="content-language" content="ru" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  
  <title>Дополнительные типы коллекций в Python &middot; HFK</title>
  <meta name="title" content="Дополнительные типы коллекций в Python &middot; HFK" />
  
  <meta name="description" content="Чудесный сайт" />
  <meta name="keywords" content="python, datatypes, modules, collections, " />
  
  
  <link rel="canonical" href="http://localhost:1313/HFK_website/posts/collections2/" />
  
  
  
  
  
  
  
  
  
  
  <link type="text/css" rel="stylesheet" href="/HFK_website/css/main.bundle.min.85f006de1806b55b2d082d1122deedd8cec6fdc1f7c8a51be975a4496165d6c798f4a3de52545a6a87cc4bc09fc2d6f5201d44ea57acc1ac2b1c42a688c62bee.css"
    integrity="sha512-hfAG3hgGtVstCC0RIt7t2M7G/cH3yKUb6XWkSWFl1seY9KPeUlRaaofMS8Cfwtb1IB1E6leswawrHEKmiMYr7g==" />
  
  
  <script type="text/javascript" src="/HFK_website/js/appearance.min.516a16745bea5a9bd011138d254cc0fd3973cd55ce6e15f3dec763e7c7c2c7448f8fe7b54cca811cb821b0c7e12cd161caace1dd794ac3d34d40937cbcc9ee12.js"
    integrity="sha512-UWoWdFvqWpvQERONJUzA/TlzzVXObhXz3sdj58fCx0SPj&#43;e1TMqBHLghsMfhLNFhyqzh3XlKw9NNQJN8vMnuEg=="></script>
  
  
  
  
  
  <script src="/HFK_website/js/zoom.min.js"></script>
  
  
  
  <link rel="apple-touch-icon" sizes="180x180" href="/HFK_website/apple-touch-icon.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="/HFK_website/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="/HFK_website/favicon-16x16.png" />
  <link rel="manifest" href="/HFK_website/site.webmanifest" />
  
  
  
  
  
  
  
  <meta property="og:url" content="http://localhost:1313/HFK_website/posts/collections2/">
  <meta property="og:site_name" content="HFK">
  <meta property="og:title" content="Дополнительные типы коллекций в Python">
  <meta property="og:description" content="кМодуль collections #Python содержит встроенный модуль collections, который содержит специализированные типы коллекций, альтернативных традиционным list, tuple, dict:">
  <meta property="og:locale" content="ru">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-07-24T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-07-24T00:00:00+00:00">
    <meta property="article:tag" content="Python">
    <meta property="article:tag" content="Datatypes">
    <meta property="article:tag" content="Modules">
    <meta property="article:tag" content="Collections">
    <meta property="og:image" content="http://localhost:1313/HFK_website/posts/collections2/feature.png">
      <meta property="og:see_also" content="http://localhost:1313/HFK_website/posts/variables_python/">
      <meta property="og:see_also" content="http://localhost:1313/HFK_website/posts/memory_python/">
      <meta property="og:see_also" content="http://localhost:1313/HFK_website/posts/os_shutil_shelve/">
      <meta property="og:see_also" content="http://localhost:1313/HFK_website/posts/zip_pkl/">
      <meta property="og:see_also" content="http://localhost:1313/HFK_website/posts/csv_json/">
      <meta property="og:see_also" content="http://localhost:1313/HFK_website/posts/stdin_stdout/">

  
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="http://localhost:1313/HFK_website/posts/collections2/feature.png">
  <meta name="twitter:title" content="Дополнительные типы коллекций в Python">
  <meta name="twitter:description" content="кМодуль collections #Python содержит встроенный модуль collections, который содержит специализированные типы коллекций, альтернативных традиционным list, tuple, dict:">

  
  <script type="application/ld+json">
  [{
    "@context": "https://schema.org",
    "@type": "Article",
    "articleSection": "Конспекты",
    "name": "Дополнительные типы коллекций в Python",
    "headline": "Дополнительные типы коллекций в Python",
    
    "abstract": "к\rМодуль collections #\rPython содержит встроенный модуль collections, который содержит специализированные типы коллекций, альтернативных традиционным list, tuple, dict:",
    "inLanguage": "ru",
    "url" : "http:\/\/localhost:1313\/HFK_website\/posts\/collections2\/",
    "author" : {
      "@type": "Person",
      "name": "Иван Бережной"
    },
    "copyrightYear": "2024",
    "dateCreated": "2024-07-24T00:00:00\u002b00:00",
    "datePublished": "2024-07-24T00:00:00\u002b00:00",
    
    "dateModified": "2024-07-24T00:00:00\u002b00:00",
    
    "keywords": ["python","datatypes","modules","collections"],
    
    "mainEntityOfPage": "true",
    "wordCount": "6275"
  }]
  </script>


  
  
  <meta name="author" content="Иван Бережной" />
  
  
  
  <link href="https://t.me/noisy_cake" rel="me" />
  
  
  <link href="https://github.com/NoisyCake" rel="me" />
  
  
  
  

<script src="/HFK_website/lib/jquery/jquery.slim.min.js" integrity=""></script>





















  
  


  
  
  <meta name="theme-color"/>
  
  
</head>
<body
  class="flex flex-col h-screen px-6 m-auto text-lg leading-7 max-w-7xl bg-neutral text-neutral-900 dark:bg-neutral-800 dark:text-neutral sm:px-14 md:px-24 lg:px-32 scrollbar-thin scrollbar-track-neutral-200 scrollbar-thumb-neutral-400 dark:scrollbar-track-neutral-800 dark:scrollbar-thumb-neutral-600">
  <div id="the-top" class="absolute flex self-center">
    <a class="px-3 py-1 text-sm -translate-y-8 rounded-b-lg bg-primary-200 focus:translate-y-0 dark:bg-neutral-600"
      href="#main-content"><span
        class="font-bold text-primary-600 ltr:pr-2 rtl:pl-2 dark:text-primary-400">&darr;</span>Перейти к основному содержимому</a>
  </div>
  
  
  <div class="min-h-[148px]"></div>
<div class="fixed inset-x-0 pl-[24px] pr-[24px]" style="z-index:100">
  <div id="menu-blur" class="absolute opacity-0 inset-x-0 top-0 h-full single_hero_background nozoom bg-neutral dark:bg-neutral-800"></div>
  <div class="relative max-w-[64rem] ml-auto mr-auto">
    <div style="padding-left:0;padding-right:0;padding-top:2px;padding-bottom:3px"
    class="main-menu flex items-center justify-between px-4 py-6 sm:px-6 md:justify-start space-x-3">
    
    
    
    <div>
        <a href="/HFK_website/" class="flex">
            <span class="sr-only">HFK</span>

            <img src="/HFK_website/img/first_logo_transparent.png" width="256" height="256"
                class="logo max-h-[5rem] max-w-[5rem] object-scale-down object-left nozoom" alt="HFK" />

        </a>
    </div>
    
    <div class="flex flex-1 items-center justify-between">
        <nav class="flex space-x-3">

            
            <a href="/HFK_website/" class="text-base font-medium text-gray-500 hover:text-gray-900">HFK</a>
            

        </nav>
        <nav class="hidden md:flex items-center space-x-5 md:ml-12 h-12">

            
            
            
  <a href="/HFK_website/posts/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
    
    <p class="text-base font-medium" title="">
        Конспекты
    </p>
</a>



            
            
  <a href=""  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
    
    <p class="text-base font-medium" title="">
        Проекты
    </p>
</a>



            
            
  <a href="/HFK_website/about/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
    
    <p class="text-base font-medium" title="">
        О HFK
    </p>
</a>



            
            

            


            


            
            
            <div
                class="ltr:mr-14 rtl:ml-14 flex items-center">
                <button id="appearance-switcher" aria-label="Dark mode switcher" type="button" class="text-base hover:text-primary-600 dark:hover:text-primary-400">
                    <div class="flex items-center justify-center dark:hidden">
                        

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M32 256c0-123.8 100.3-224 223.8-224c11.36 0 29.7 1.668 40.9 3.746c9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3c9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480C132.1 480 32 379.6 32 256z"/></svg>

  </span>


                    </div>
                    <div class="items-center justify-center hidden dark:flex">
                        

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02 0-95.1 42.98-95.1 95.1S202.1 351.1 256 351.1s95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347L446.1 255.1l63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7l-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89L164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6L12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256l-63.15 91.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7l19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109l109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69 0-127.1-57.31-127.1-127.1c0-70.69 57.31-127.1 127.1-127.1s127.1 57.3 127.1 127.1C383.1 326.7 326.7 383.1 256 383.1z"/></svg>

  </span>


                    </div>
                </button>
            </div>
            

        </nav>
        <div class="flex md:hidden items-center space-x-5 md:ml-12 h-12">

            <span></span>

            


            

            
            
            <button id="appearance-switcher-mobile" aria-label="Dark mode switcher" type="button" class="text-base hover:text-primary-600 dark:hover:text-primary-400" style="margin-right:5px">
                <div class="flex items-center justify-center dark:hidden">
                    

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M32 256c0-123.8 100.3-224 223.8-224c11.36 0 29.7 1.668 40.9 3.746c9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3c9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480C132.1 480 32 379.6 32 256z"/></svg>

  </span>


                </div>
                <div class="items-center justify-center hidden dark:flex">
                    

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02 0-95.1 42.98-95.1 95.1S202.1 351.1 256 351.1s95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347L446.1 255.1l63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7l-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89L164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6L12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256l-63.15 91.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7l19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109l109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69 0-127.1-57.31-127.1-127.1c0-70.69 57.31-127.1 127.1-127.1s127.1 57.3 127.1 127.1C383.1 326.7 326.7 383.1 256 383.1z"/></svg>

  </span>


                </div>
            </button>
            

        </div>
    </div>
    <div class="-my-2 -mr-2 md:hidden">

        <label id="menu-button" for="menu-controller" class="block">
            <input type="checkbox" id="menu-controller" class="hidden" />
            
            <div class="cursor-pointer hover:text-primary-600 dark:hover:text-primary-400">
                

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M0 96C0 78.33 14.33 64 32 64H416C433.7 64 448 78.33 448 96C448 113.7 433.7 128 416 128H32C14.33 128 0 113.7 0 96zM0 256C0 238.3 14.33 224 32 224H416C433.7 224 448 238.3 448 256C448 273.7 433.7 288 416 288H32C14.33 288 0 273.7 0 256zM416 448H32C14.33 448 0 433.7 0 416C0 398.3 14.33 384 32 384H416C433.7 384 448 398.3 448 416C448 433.7 433.7 448 416 448z"/></svg>

  </span>


            </div>
            <div id="menu-wrapper" style="padding-top:5px;"
                class="fixed inset-0 z-30 invisible w-screen h-screen m-0 overflow-auto transition-opacity opacity-0 cursor-default bg-neutral-100/50 backdrop-blur-sm dark:bg-neutral-900/50">
                <ul
                    class="flex space-y-2 mt-3 flex-col items-end w-full px-6 py-6 mx-auto overflow-visible list-none ltr:text-right rtl:text-left max-w-7xl">

                    <li>
                        <span
                            class="cursor-pointer inline-block align-text-bottom hover:text-primary-600 dark:hover:text-primary-400">

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"/></svg>

  </span>

</span>
                    </li>

                    

                    
  <li class="mt-1">
    <a href="/HFK_website/posts/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
        
        <p class="text-bg font-bg" title="">
            Конспекты
        </p>
    </a>
</li>




                    

                    
  <li class="mt-1">
    <a href=""  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
        
        <p class="text-bg font-bg" title="">
            Проекты
        </p>
    </a>
</li>




                    

                    
  <li class="mt-1">
    <a href="/HFK_website/about/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
        
        <p class="text-bg font-bg" title="">
            О HFK
        </p>
    </a>
</li>




                    

                </ul>
                
                

            </div>
        </label>
    </div>
</div>




<script>
    (function () {
        var $mainmenu = $('.main-menu');
        var path = window.location.pathname;
        $mainmenu.find('a[href="' + path + '"]').each(function (i, e) {
            $(e).children('p').addClass('active');
        });
    })();
</script>


  </div>
</div>
<script>
  window.addEventListener('scroll', function (e) {
    var scroll = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;
    var background_blur = document.getElementById('menu-blur');
    background_blur.style.opacity = (scroll / 300);
  });
</script>

  
  <div class="relative flex flex-col grow">
    <main id="main-content" class="grow">
      


<article>
  

  <header id="single_header" class="mt-5 max-w-prose">
    
    <ol class="text-sm text-neutral-500 dark:text-neutral-400 print:hidden">
  
  
    
  
    
  
  <li class="inline hidden">
    <a
      class="hover:underline decoration-neutral-300 dark:underline-neutral-600"
      href="/HFK_website/"
      >:tada:</a
    ><span class="px-1 text-primary-500">/</span>
  </li>

  
  <li class="inline ">
    <a
      class="hover:underline decoration-neutral-300 dark:underline-neutral-600"
      href="/HFK_website/posts/"
      >Конспекты</a
    ><span class="px-1 text-primary-500">/</span>
  </li>

  
  <li class="inline hidden">
    <a
      class="hover:underline decoration-neutral-300 dark:underline-neutral-600"
      href="/HFK_website/posts/collections2/"
      >Дополнительные типы коллекций в Python</a
    ><span class="px-1 text-primary-500">/</span>
  </li>

</ol>


    
    <h1 class="mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">
      Дополнительные типы коллекций в Python
    </h1>
    <div class="mt-1 mb-6 text-base text-neutral-500 dark:text-neutral-400 print:hidden">
      





  
  







  





  



  











  



<div class="flex flex-row flex-wrap items-center">
  
  
  <time datetime="2024-07-24 00:00:00 &#43;0000 UTC">24 июля 2024</time><span class="px-2 text-primary-500">&middot;</span><span>6275 слов</span><span class="px-2 text-primary-500">&middot;</span><span title="Время чтения">30 минут</span><span class="px-2 text-primary-500">&middot;</span>


<script type="text/javascript" src="/HFK_website/js/zen-mode.min.63c8a202661f4a2063fdc2706685d668e8ea3da613da2224e9da527e5876e4f53dcac39ab60732626fb4151feae5d430d0cf44731e5d3c726522fcc1519c1547.js" integrity="sha512-Y8iiAmYfSiBj/cJwZoXWaOjqPaYT2iIk6dpSflh25PU9ysOatgcyYm&#43;0FR/q5dQw0M9Ecx5dPHJlIvzBUZwVRw=="></script>

<span class="mb-[2px]">
    <span id="zen-mode-button"
          class="text-lg hover:text-primary-500"
          title=""
          data-title-i18n-disable=""
          data-title-i18n-enable="">
        <span class="inline-block align-text-bottom">

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" width="50px" height="50px">
    <path fill="currentColor" d="M 12.980469 4 C 9.1204688 4 5.9804688 7.14 5.9804688 11 L 6 26 L 9.9804688 26 L 9.9804688 11 C 9.9804688 9.35 11.320469 8 12.980469 8 L 40.019531 8 C 41.679531 8 43.019531 9.35 43.019531 11 L 43.019531 39 C 43.019531 40.65 41.679531 42 40.019531 42 L 29 42 C 29 43.54 28.420938 44.94 27.460938 46 L 40.019531 46 C 43.879531 46 47.019531 42.86 47.019531 39 L 47.019531 11 C 47.019531 7.14 43.879531 4 40.019531 4 L 12.980469 4 z M 7 28 C 4.794 28 3 29.794 3 32 L 3 42 C 3 44.206 4.794 46 7 46 L 23 46 C 25.206 46 27 44.206 27 42 L 27 32 C 27 29.794 25.206 28 23 28 L 7 28 z M 7 32 L 23 32 L 23.001953 42 L 7 42 L 7 32 z"/>
</svg>
  </span>

</span>
    </span>
</span>
  

  
  
</div>





<div class="flex flex-row flex-wrap items-center">
  
  
  
  
  
  
  
  
  
  
  <span style="margin-top:0.5rem" class="mr-2" onclick="window.open(&#34;/HFK_website/tags/python/&#34;,'_self');">
    <span class="flex" style="cursor: pointer;">
  <span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">
    Python
  </span>
</span>
  </span>
  
  <span style="margin-top:0.5rem" class="mr-2" onclick="window.open(&#34;/HFK_website/tags/datatypes/&#34;,'_self');">
    <span class="flex" style="cursor: pointer;">
  <span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">
    Datatypes
  </span>
</span>
  </span>
  
  <span style="margin-top:0.5rem" class="mr-2" onclick="window.open(&#34;/HFK_website/tags/modules/&#34;,'_self');">
    <span class="flex" style="cursor: pointer;">
  <span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">
    Modules
  </span>
</span>
  </span>
  
  <span style="margin-top:0.5rem" class="mr-2" onclick="window.open(&#34;/HFK_website/tags/collections/&#34;,'_self');">
    <span class="flex" style="cursor: pointer;">
  <span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">
    Collections
  </span>
</span>
  </span>
  
  
  
  
  
  
  
  
</div>



    </div>

    
    
    
    
    

    

    
      
      

      

      

    

  </header>
  
  <section class="flex flex-col max-w-full mt-0 prose dark:prose-invert lg:flex-row">
    
     <div
      class="order-first lg:ml-auto px-0 lg:order-last ltr:lg:pl-8 rtl:lg:pr-8">
      <div class="toc ltr:pl-5 rtl:pr-5 print:hidden lg:sticky lg:top-[140px]">

         <details open id="TOCView"
  class="toc-right mt-0 overflow-y-scroll overscroll-contain scrollbar-thin scrollbar-track-neutral-200 scrollbar-thumb-neutral-400 dark:scrollbar-track-neutral-800 dark:scrollbar-thumb-neutral-600 rounded-lg ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 hidden lg:block">
  <summary
    class="block py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">
    Оглавление
  </summary>
  <div
    class="min-w-[220px] py-2 border-dotted ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#centerмодуль-collectionscenter"><center>Модуль collections</center></a></li>
    <li><a href="#centernamedtuplecenter"><center>Namedtuple</center></a>
      <ul>
        <li><a href="#функция-namedtuple">Функция <code>namedtuple()</code></a>
          <ul>
            <li><a href="#typename-и-field_names"><code>typename</code> и <code>field_names</code></a></li>
            <li><a href="#rename"><code>rename</code></a></li>
            <li><a href="#defaults"><code>defaults</code></a></li>
            <li><a href="#module"><code>module</code></a></li>
          </ul>
        </li>
        <li><a href="#распаковка-именованного-кортежа">Распаковка именованного кортежа</a></li>
        <li><a href="#атрибуты-_fields-и-_field_defaults">Атрибуты <code>_fields</code> и <code>_field_defaults</code></a></li>
        <li><a href="#методы-_make-_replace-_asdict">Методы <code>_make()</code>, <code>_replace()</code>, <code>_asdict()</code></a></li>
        <li><a href="#схожесть-со-словарями">Схожесть со словарями</a></li>
      </ul>
    </li>
    <li><a href="#centerdefaultdictcenter"><center>Defaultdict</center></a>
      <ul>
        <li><a href="#когда-использовать-defaultdict">Когда использовать <code>defaultdict</code>?</a></li>
      </ul>
    </li>
    <li><a href="#centerordereddictcenter"><center>OrderedDict</center></a>
      <ul>
        <li><a href="#метод-move_to_end">Метод <code>move_to_end()</code></a></li>
        <li><a href="#метод-popitem">Метод <code>popitem()</code></a></li>
        <li><a href="#атрибут-__dict__">Атрибут <code>.__dict__</code></a></li>
        <li><a href="#сравнение-словарей">Сравнение словарей</a></li>
      </ul>
    </li>
    <li><a href="#centercountercenter"><center>Counter</center></a>
      <ul>
        <li><a href="#метод-update">Метод <code>update()</code></a></li>
        <li><a href="#метод-most_common">Метод <code>most_common()</code></a></li>
        <li><a href="#метод-elements">Метод <code>elements()</code></a></li>
        <li><a href="#метод-total">Метод <code>total()</code></a></li>
        <li><a href="#метод-subtract">Метод <code>subtract()</code></a></li>
        <li><a href="#операторы-----">Операторы <code>+, -, &amp;, |</code></a></li>
      </ul>
    </li>
    <li><a href="#centerchainmapcenter"><center>ChainMap</center></a>
      <ul>
        <li><a href="#итерирование-по-chainmap">Итерирование по <code>ChainMap</code></a></li>
        <li><a href="#мутация-chainmap">Мутация <code>ChainMap</code></a></li>
        <li><a href="#сравнение-chainmap">Сравнение <code>ChainMap</code></a></li>
        <li><a href="#атрибут-maps">Атрибут <code>maps</code></a></li>
        <li><a href="#метод-new_child">Метод <code>new_child()</code></a></li>
        <li><a href="#атрибут-parents">Атрибут <code>parents</code></a></li>
        <li><a href="#где-используется">Где используется</a></li>
      </ul>
    </li>
    <li><a href="#centerdequecenter"><center>Deque</center></a>
      <ul>
        <li><a href="#добавление-и-удаление-элементов">Добавление и удаление элементов</a></li>
        <li><a href="#доступ-к-элементам-дека">Доступ к элементам дека</a></li>
        <li><a href="#другие-методы-deque">Другие методы <code>deque</code></a></li>
      </ul>
    </li>
    <li><a href="#centerarraycenter"><center>Array</center></a></li>
  </ul>
</nav>
  </div>
</details>
<details class="toc-inside mt-0 overflow-hidden rounded-lg ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 lg:hidden">
  <summary
    class="py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">
    Оглавление
  </summary>
  <div
    class="py-2 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#centerмодуль-collectionscenter"><center>Модуль collections</center></a></li>
    <li><a href="#centernamedtuplecenter"><center>Namedtuple</center></a>
      <ul>
        <li><a href="#функция-namedtuple">Функция <code>namedtuple()</code></a>
          <ul>
            <li><a href="#typename-и-field_names"><code>typename</code> и <code>field_names</code></a></li>
            <li><a href="#rename"><code>rename</code></a></li>
            <li><a href="#defaults"><code>defaults</code></a></li>
            <li><a href="#module"><code>module</code></a></li>
          </ul>
        </li>
        <li><a href="#распаковка-именованного-кортежа">Распаковка именованного кортежа</a></li>
        <li><a href="#атрибуты-_fields-и-_field_defaults">Атрибуты <code>_fields</code> и <code>_field_defaults</code></a></li>
        <li><a href="#методы-_make-_replace-_asdict">Методы <code>_make()</code>, <code>_replace()</code>, <code>_asdict()</code></a></li>
        <li><a href="#схожесть-со-словарями">Схожесть со словарями</a></li>
      </ul>
    </li>
    <li><a href="#centerdefaultdictcenter"><center>Defaultdict</center></a>
      <ul>
        <li><a href="#когда-использовать-defaultdict">Когда использовать <code>defaultdict</code>?</a></li>
      </ul>
    </li>
    <li><a href="#centerordereddictcenter"><center>OrderedDict</center></a>
      <ul>
        <li><a href="#метод-move_to_end">Метод <code>move_to_end()</code></a></li>
        <li><a href="#метод-popitem">Метод <code>popitem()</code></a></li>
        <li><a href="#атрибут-__dict__">Атрибут <code>.__dict__</code></a></li>
        <li><a href="#сравнение-словарей">Сравнение словарей</a></li>
      </ul>
    </li>
    <li><a href="#centercountercenter"><center>Counter</center></a>
      <ul>
        <li><a href="#метод-update">Метод <code>update()</code></a></li>
        <li><a href="#метод-most_common">Метод <code>most_common()</code></a></li>
        <li><a href="#метод-elements">Метод <code>elements()</code></a></li>
        <li><a href="#метод-total">Метод <code>total()</code></a></li>
        <li><a href="#метод-subtract">Метод <code>subtract()</code></a></li>
        <li><a href="#операторы-----">Операторы <code>+, -, &amp;, |</code></a></li>
      </ul>
    </li>
    <li><a href="#centerchainmapcenter"><center>ChainMap</center></a>
      <ul>
        <li><a href="#итерирование-по-chainmap">Итерирование по <code>ChainMap</code></a></li>
        <li><a href="#мутация-chainmap">Мутация <code>ChainMap</code></a></li>
        <li><a href="#сравнение-chainmap">Сравнение <code>ChainMap</code></a></li>
        <li><a href="#атрибут-maps">Атрибут <code>maps</code></a></li>
        <li><a href="#метод-new_child">Метод <code>new_child()</code></a></li>
        <li><a href="#атрибут-parents">Атрибут <code>parents</code></a></li>
        <li><a href="#где-используется">Где используется</a></li>
      </ul>
    </li>
    <li><a href="#centerdequecenter"><center>Deque</center></a>
      <ul>
        <li><a href="#добавление-и-удаление-элементов">Добавление и удаление элементов</a></li>
        <li><a href="#доступ-к-элементам-дека">Доступ к элементам дека</a></li>
        <li><a href="#другие-методы-deque">Другие методы <code>deque</code></a></li>
      </ul>
    </li>
    <li><a href="#centerarraycenter"><center>Array</center></a></li>
  </ul>
</nav>
  </div>
</details>

<script>

  var margin = 200;
  var marginError = 50;

  (function () {
    var $window = $(window);
    var $toc = $('#TOCView');
    var tocHeight = $toc.height();

    function onResize() {
      var windowAndMarginHeight = $window.height() - margin;
      if(tocHeight >= windowAndMarginHeight) {
        $toc.css("overflow-y", "scroll")
        $toc.css("max-height", (windowAndMarginHeight + marginError) + "px")
      } else {
        $toc.css("overflow-y", "hidden")
        $toc.css("max-height", "9999999px")
      }
    }

    $window.on('resize', onResize);
    $(document).ready(onResize);
  })();



  (function () {
    var $toc = $('#TableOfContents');
    if ($toc.length > 0) {
      var $window = $(window);

      function onScroll() {
        var currentScroll = $window.scrollTop();
        var h = $('.anchor');
        var id = "";
        h.each(function (i, e) {
          e = $(e);
          if (e.offset().top - $(window).height()/3 <= currentScroll) {
            id = decodeURIComponent(e.attr('id'));
          }
        });
        var active = $toc.find('a.active');      
        if (active.length == 1 && active.eq(0).attr('href') == '#' + id) return true;

        active.each(function (i, e) {
          
            $(e).removeClass('active');
          
        });
        $toc.find('a[href="#' + id + '"]').addClass('active')
        $toc.find('a[href="#' + id + '"]').parentsUntil('#TableOfContents').each(function (i, e) {
          $(e).children('a').parents('ul').show();          
        });
      }

      $window.on('scroll', onScroll);
      $(document).ready(function () {
        
        onScroll();
      });
    }
  })();


</script>
   </div>
      </div>
      

      <div class="min-w-0 min-h-0 max-w-fit">
        
        
<details style="margin-left:0px" class="mt-2 mb-5 overflow-hidden rounded-lg ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5" >
    
    <summary
        class="py-1 text-lg font-semibold cursor-pointer bg-primary-200 text-neutral-800 ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 dark:bg-primary-800 dark:text-neutral-100">
        Python - This article is part of a series.
    </summary>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        <a href="http://localhost:1313/HFK_website/posts/memory_python/">
            Part 1: Устройство памяти в Python
        </a>
    </div>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        <a href="http://localhost:1313/HFK_website/posts/collections/">
            Part 2: Коллекции в Python
        </a>
    </div>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        <a href="http://localhost:1313/HFK_website/posts/variables_python/">
            Part 3: Переменные и объекты в Python
        </a>
    </div>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        <a href="http://localhost:1313/HFK_website/posts/random_string/">
            Part 4: Модули string и random
        </a>
    </div>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        <a href="http://localhost:1313/HFK_website/posts/frac_dec_compl/">
            Part 5: Decimal, Fraction и комплексные числа в Python
        </a>
    </div>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        <a href="http://localhost:1313/HFK_website/posts/turtle/">
            Part 6: Черепашья графика
        </a>
    </div>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        <a href="http://localhost:1313/HFK_website/posts/functions/">
            Part 7: Функции в Python
        </a>
    </div>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        <a href="http://localhost:1313/HFK_website/posts/work_with_files/">
            Part 8: Работа с txt файлами в Python
        </a>
    </div>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        <a href="http://localhost:1313/HFK_website/posts/date_and_time_1/">
            Part 9: Работа с датой и временем. Часть 1
        </a>
    </div>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        <a href="http://localhost:1313/HFK_website/posts/date_and_time_2/">
            Part 10: Работа с датой и временем. Часть 2
        </a>
    </div>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        <a href="http://localhost:1313/HFK_website/posts/stdin_stdout/">
            Part 11: Потоковый ввод и вывод
        </a>
    </div>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        <a href="http://localhost:1313/HFK_website/posts/csv_json/">
            Part 12: Работа с csv и json файлами в Python
        </a>
    </div>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        <a href="http://localhost:1313/HFK_website/posts/zip_pkl/">
            Part 13: Работа с zip и pkl файлами в Python
        </a>
    </div>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        <a href="http://localhost:1313/HFK_website/posts/os_shutil_shelve/">
            Part 14: Модули os, shutil и shelve
        </a>
    </div>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        Part 15: This Article
    </div>
    
    


</details>



        <div class="article-content max-w-prose mb-20">
          <div class="lead text-neutral-500 dark:text-neutral-400 !mb-9 text-xl">
  к
</div>



<h2 class="relative group"><center>Модуль collections</center> 
    <div id="center%D0%BC%D0%BE%D0%B4%D1%83%D0%BB%D1%8C-collectionscenter" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#center%D0%BC%D0%BE%D0%B4%D1%83%D0%BB%D1%8C-collectionscenter" aria-label="Якорь">#</a>
    </span>        
    
</h2>
<p>Python содержит встроенный модуль <code>collections</code>, который содержит специализированные типы коллекций, альтернативных традиционным <code>list</code>, <code>tuple</code>, <code>dict</code>:</p>
<ul>
<li><code>namedtuple</code></li>
<li><code>defaultdict</code></li>
<li><code>OrderedDict</code></li>
<li><code>Counter</code></li>
<li><code>ChainMap</code></li>
<li><code>deque</code></li>
</ul>
<p>Начнём с разбора именованных кортежей.</p>
<hr>


<h2 class="relative group"><center>Namedtuple</center> 
    <div id="centernamedtuplecenter" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#centernamedtuplecenter" aria-label="Якорь">#</a>
    </span>        
    
</h2>
<p>Для использования: <code>from collections import namedtuple</code></p>
<p>Именованные кортежи (тип <code>namedtuple</code>) — это подтип обычных кортежей в Python. У них те же функции, что и у обычных, но их значения можно получать как с помощью индекса (например, <code>[0]</code>), так и с помощью имени через точку (например, <code>.name</code>). Их основным назначением является улучшение читаемости кода.</p>
<p>Опишем точку на плоскости, имеющую две координаты <code>x</code> и <code>y</code> с помощью именованного кортежа:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">namedtuple</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Point</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;Point&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">])</span>     <span class="c1"># создаём подкласс кортежа Point (именованный кортеж)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">point</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>                         <span class="c1"># создаём экземпляр Point</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">point</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">point</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">point</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">point</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">point</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">point</span><span class="p">))</span>
</span></span></code></pre></div><pre tabindex="0"><code># Вывод:
Point(x=3, y=7)
3 7
3 7
&lt;class &#39;__main__.Point&#39;&gt;
</code></pre><p>Как и обычный, именованный кортеж может содержать изменяемые значения, но стоит помнить, что такие кортежи не будут хэшируемы:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">namedtuple</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Person</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;Person&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">sveta</span> <span class="o">=</span> <span class="n">Person</span><span class="p">(</span><span class="s1">&#39;Sveta Ivanova&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;Larisa&#39;</span><span class="p">,</span> <span class="s1">&#39;Keksik&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">sveta</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">sveta</span><span class="o">.</span><span class="n">children</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;Romka&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">sveta</span><span class="p">)</span>
</span></span></code></pre></div><pre tabindex="0"><code># Вывод:
Person(name=&#39;Sveta Ivanova&#39;, children=[&#39;Larisa&#39;, &#39;Keksik&#39;])
Person(name=&#39;Sveta Ivanova&#39;, children=[&#39;Larisa&#39;, &#39;Keksik&#39;, &#39;Romka&#39;])
</code></pre>
  
  
  
  



<div
  
    class="flex px-4 py-3 rounded-md"
    style="background-color: #e63946"
  >

  <span
    
      class="ltr:pr-3 rtl:pl-3 flex items-center"
      style="color: #1d3557"
    >

    

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
<path fill="currentColor"  d="M159.3 5.4c7.8-7.3 19.9-7.2 27.7 .1c27.6 25.9 53.5 53.8 77.7 84c11-14.4 23.5-30.1 37-42.9c7.9-7.4 20.1-7.4 28 .1c34.6 33 63.9 76.6 84.5 118c20.3 40.8 33.8 82.5 33.8 111.9C448 404.2 348.2 512 224 512C98.4 512 0 404.1 0 276.5c0-38.4 17.8-85.3 45.4-131.7C73.3 97.7 112.7 48.6 159.3 5.4zM225.7 416c25.3 0 47.7-7 68.8-21c42.1-29.4 53.4-88.2 28.1-134.4c-2.8-5.6-5.6-11.2-9.8-16.8l-50.6 58.8s-81.4-103.6-87.1-110.6C133.1 243.8 112 273.2 112 306.8C112 375.4 162.6 416 225.7 416z"/></svg>
  </span>


  </span>

  <span
    
      style="color: #f1faee"
    >Очевидно, что подобный код <code>sveta.children = ['Larisa', 'Keksik', 'Romka']</code> привёл бы к ошибке</span>
</div>

<p>Создавать кортежи можно также с помощью именованных аргументов:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">namedtuple</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Point</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;Point&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="n">point1</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>                     <span class="c1"># позиционные аргументы</span>
</span></span><span class="line"><span class="cl"><span class="n">point2</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>                <span class="c1"># именованные аргументы</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">point1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">point2</span><span class="p">)</span>
</span></span></code></pre></div><pre tabindex="0"><code># Вывод:
Point(x=2, y=4)
Point(x=3, y=10)
</code></pre><p>При работе с именованными кортежами можно пользоваться срезами (результатом будет обычный кортеж)</p>


<h3 class="relative group">Функция <code>namedtuple()</code> 
    <div id="%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D1%8F-namedtuple" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D1%8F-namedtuple" aria-label="Якорь">#</a>
    </span>        
    
</h3>
<p>Эта фабричная функция (понятие из ООП) позволяет создавать подклассы кортежа с именованными полями (классы именованных кортежей).</p>
<p>Сигнатура: <code>namedtuple(typename, field_names, *, rename=False, defaults=None, module=None)</code>. Разберёмся с каждым параметров по-отдельности.</p>


<h4 class="relative group"><code>typename</code> и <code>field_names</code> 
    <div id="typename-%D0%B8-field_names" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#typename-%D0%B8-field_names" aria-label="Якорь">#</a>
    </span>        
    
</h4>
<p>Параметр <code>typename</code> отвечает за имя создаваемого класса <code>namedtuple</code> (который и возвращает функция <code>namedtuple()</code>), а параметр <code>fieldnames</code> за название полей, которые мы будем использовать, чтобы получить доступ к значениям определённого экземпляра именованного кортежа. В качестве параметра <code>field_names</code> можно использовать:</p>
<ul>
<li>Список.</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">namedtuple</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Point</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;Point&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">])</span>  <span class="c1"># передаем список</span>
</span></span><span class="line"><span class="cl"><span class="n">point</span> <span class="o">=</span>  <span class="n">Point</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">point</span><span class="p">)</span>                             <span class="c1"># выводит Point(x=2, y=4)</span>
</span></span></code></pre></div><ul>
<li>Кортеж.</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">namedtuple</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Point</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;Point&#39;</span><span class="p">,</span> <span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">))</span>  <span class="c1"># передаем кортеж</span>
</span></span><span class="line"><span class="cl"><span class="n">point</span> <span class="o">=</span>  <span class="n">Point</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">point</span><span class="p">)</span>                             <span class="c1"># выводит Point(x=2, y=4)</span>
</span></span></code></pre></div><ul>
<li>Словарь. В этом случае для полей именованного кортежа используются ключи словаря, поэтому в качестве значений можно указать, все что угодно.</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">namedtuple</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Point</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;Point&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="mi">69</span><span class="p">})</span>  <span class="c1"># передаем словарь</span>
</span></span><span class="line"><span class="cl"><span class="n">point</span> <span class="o">=</span>  <span class="n">Point</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">point</span><span class="p">)</span>                                    <span class="c1"># выводит Point(x=2, y=4)</span>
</span></span></code></pre></div><ul>
<li>Строка. При создании именованного кортежа с помощью строки мы указываем поля либо через символ пробела, либо разделяя их символом <code>,</code>.</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">namedtuple</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Point</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;Point&#39;</span><span class="p">,</span> <span class="s1">&#39;x y&#39;</span><span class="p">)</span>  <span class="c1"># передаем строку (можно &#39;x,y&#39;)</span>
</span></span><span class="line"><span class="cl"><span class="n">point</span> <span class="o">=</span>  <span class="n">Point</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">point</span><span class="p">)</span>                        <span class="c1"># выводит Point(x=2, y=4)</span>
</span></span></code></pre></div><ul>
<li>Множество. Можно создать именованный кортеж с помощью множества, но делать это не рекомендуется, так как множество — неупорядоченный набор данных, поэтому поля могут перемешаться.</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">namedtuple</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Point</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;Point&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">})</span>  <span class="c1"># в качестве второго параметра передаем множество</span>
</span></span><span class="line"><span class="cl"><span class="n">point</span> <span class="o">=</span>  <span class="n">Point</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">point</span><span class="p">)</span>                             <span class="c1"># выводит Point(x=2, y=4) или Point(y=2, x=4)</span>
</span></span></code></pre></div>
  



<div
  
    class="flex px-4 py-3 rounded-md bg-primary-100 dark:bg-primary-900"
  >

  <span
    
      class="text-primary-400 ltr:pr-3 rtl:pl-3 flex items-center"
    >

    

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 0C114.6 0 0 114.6 0 256s114.6 256 256 256s256-114.6 256-256S397.4 0 256 0zM256 128c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S224 177.7 224 160C224 142.3 238.3 128 256 128zM296 384h-80C202.8 384 192 373.3 192 360s10.75-24 24-24h16v-64H224c-13.25 0-24-10.75-24-24S210.8 224 224 224h32c13.25 0 24 10.75 24 24v88h16c13.25 0 24 10.75 24 24S309.3 384 296 384z"/></svg>

  </span>


  </span>

  <span
    
      class="dark:text-neutral-300"
    >В качестве параметра <code>field_names</code> можно передавать любой итерируемый объект, например, результат вызова функций <code>map()</code> и <code>filter()</code></span>
</div>

<p>В качестве названия полей для именованных кортежей мы можем использовать любое корректное название имени переменной, за исключением:</p>
<ul>
<li>имён, начинающихся с символа <code>_</code>;</li>
<li>ключевых слов языка Python (<code>if</code>, <code>with</code>, <code>else</code>, <code>class</code>, &hellip;).</li>
</ul>


<h4 class="relative group"><code>rename</code> 
    <div id="rename" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#rename" aria-label="Якорь">#</a>
    </span>        
    
</h4>
<p>При <code>rename=True</code> названия полей, переданных в <code>field_names</code>, которые содержат ключевые слова Python, переименовываются в соответствии с их порядковыми номерами (начиная с нуля), перед которыми ставится символ <code>_</code>. Посмотрим на пример:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">namedtuple</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">headers</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;surname&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span><span class="p">,</span> <span class="s1">&#39;class&#39;</span><span class="p">,</span> <span class="s1">&#39;with&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;class&#39;</span><span class="p">,</span> <span class="s1">&#39;if&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Student</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;Student&#39;</span><span class="p">,</span> <span class="n">headers</span><span class="p">,</span> <span class="n">rename</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">stud</span> <span class="o">=</span> <span class="n">Student</span><span class="p">(</span><span class="s1">&#39;Иван&#39;</span><span class="p">,</span> <span class="s1">&#39;Бережной&#39;</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;me&#39;</span><span class="p">,</span> <span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="s1">&#39;Cake&#39;</span><span class="p">,</span> <span class="s1">&#39;2A&#39;</span><span class="p">,</span> <span class="s1">&#39;else&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">stud</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Вывод: Student(name=&#39;Иван&#39;, surname=&#39;Бережной&#39;, age=19, _3=2, _4=&#39;me&#39;, color=&#39;green&#39;, _6=&#39;Cake&#39;, _7=&#39;2A&#39;, _8=&#39;else&#39;)</span>
</span></span></code></pre></div>

<h4 class="relative group"><code>defaults</code> 
    <div id="defaults" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#defaults" aria-label="Якорь">#</a>
    </span>        
    
</h4>
<p>Параметр <code>defaults</code> (работает в Python 3.7+) используется для того, чтобы установить значения по умолчанию для полей именованного кортежа. Можно указать значение по умолчанию только для некоторых полей, при этом <code>defaults</code> присваивает значения по умолчанию с хвоста.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">namedtuple</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Point</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;Point&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">],</span> <span class="n">defaults</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="n">point</span> <span class="o">=</span> <span class="n">Point</span><span class="p">()</span>      <span class="c1"># используем значения по умолчанию</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">point</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Вывод: Point(x=0, y=0)</span>
</span></span></code></pre></div>

<h4 class="relative group"><code>module</code> 
    <div id="module" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#module" aria-label="Якорь">#</a>
    </span>        
    
</h4>
<p>Посмотрим на вывод следующего кода:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">namedtuple</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Point</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;Point&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="n">point</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">point</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Вывод: &lt;class &#39;__main__.Point&#39;&gt;</span>
</span></span></code></pre></div><p>Если мы укажем допустимое имя модуля для этого аргумента, тогда атрибуту <code>.__ module__</code> результирующего именованного кортежа будет присвоено это значение:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">namedtuple</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Point</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;Point&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">],</span> <span class="n">module</span><span class="o">=</span><span class="s1">&#39;custom&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">point</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">point</span><span class="o">.</span><span class="vm">__module__</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Вывод: custom</span>
</span></span></code></pre></div>
  



<div
  
    class="flex px-4 py-3 rounded-md bg-primary-100 dark:bg-primary-900"
  >

  <span
    
      class="text-primary-400 ltr:pr-3 rtl:pl-3 flex items-center"
    >

    

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 0C114.6 0 0 114.6 0 256s114.6 256 256 256s256-114.6 256-256S397.4 0 256 0zM256 128c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S224 177.7 224 160C224 142.3 238.3 128 256 128zM296 384h-80C202.8 384 192 373.3 192 360s10.75-24 24-24h16v-64H224c-13.25 0-24-10.75-24-24S210.8 224 224 224h32c13.25 0 24 10.75 24 24v88h16c13.25 0 24 10.75 24 24S309.3 384 296 384z"/></svg>

  </span>


  </span>

  <span
    
      class="dark:text-neutral-300"
    >Параметр <code>module</code> был добавлен в Python 3.6 для того, чтобы появилась возможность сериализовать/десериализовать именованные кортежи с помощью модуля <code>pickle</code> в разных реализациях Python (IronPython, Jython и т.д.)</span>
</div>

<hr>


<h3 class="relative group">Распаковка именованного кортежа 
    <div id="%D1%80%D0%B0%D1%81%D0%BF%D0%B0%D0%BA%D0%BE%D0%B2%D0%BA%D0%B0-%D0%B8%D0%BC%D0%B5%D0%BD%D0%BE%D0%B2%D0%B0%D0%BD%D0%BD%D0%BE%D0%B3%D0%BE-%D0%BA%D0%BE%D1%80%D1%82%D0%B5%D0%B6%D0%B0" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%D1%80%D0%B0%D1%81%D0%BF%D0%B0%D0%BA%D0%BE%D0%B2%D0%BA%D0%B0-%D0%B8%D0%BC%D0%B5%D0%BD%D0%BE%D0%B2%D0%B0%D0%BD%D0%BD%D0%BE%D0%B3%D0%BE-%D0%BA%D0%BE%D1%80%D1%82%D0%B5%D0%B6%D0%B0" aria-label="Якорь">#</a>
    </span>        
    
</h3>
<p>Именованный кортеж распаковывается также, как и обычный:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">namedtuple</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Person</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;Person&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span><span class="p">,</span> <span class="s1">&#39;height&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">ivan</span> <span class="o">=</span> <span class="n">Person</span><span class="p">(</span><span class="s1">&#39;Иван&#39;</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">179</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="o">*</span><span class="n">ivan</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Вывод: Иван 19 179</span>
</span></span></code></pre></div><hr>


<h3 class="relative group">Атрибуты <code>_fields</code> и <code>_field_defaults</code> 
    <div id="%D0%B0%D1%82%D1%80%D0%B8%D0%B1%D1%83%D1%82%D1%8B-_fields-%D0%B8-_field_defaults" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%D0%B0%D1%82%D1%80%D0%B8%D0%B1%D1%83%D1%82%D1%8B-_fields-%D0%B8-_field_defaults" aria-label="Якорь">#</a>
    </span>        
    
</h3>
<p>Именованные кортежи имеют два дополнительных атрибута: <code>_fields</code> и <code>_field_defaults</code>. Первый содержит кортеж строк, в котором перечислены имена полей. Второй атрибут содержит словарь, который сопоставляет имена полей с соответствующими значениями по умолчанию, если таковые имеются.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">namedtuple</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Person</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;Person&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span><span class="p">,</span> <span class="s1">&#39;height&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">ivan</span> <span class="o">=</span> <span class="n">Person</span><span class="p">(</span><span class="s1">&#39;Иван&#39;</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">179</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">ivan</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">ivan</span><span class="o">.</span><span class="n">_fields</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">Person</span><span class="o">.</span><span class="n">_fields</span><span class="p">)</span>
</span></span></code></pre></div><pre tabindex="0"><code># Вывод:
Person(name=&#39;Иван&#39;, age=19, height=179)
(&#39;name&#39;, &#39;age&#39;, &#39;height&#39;)
(&#39;name&#39;, &#39;age&#39;, &#39;height&#39;)
</code></pre><p>Как видно из примера выше, можно обращаться к атрибуту <code>_fields</code> как через переменную (<code>ivan</code>), так и через сам тип именованного кортежа (<code>Person</code>).</p>
<p>С помощью атрибута <code>_fields</code> можно создавать новые именованные кортежи на основании уже существующих. В следующем примере создаётся новый именованный кортеж с именем <code>ExtendedPerson</code>, который расширяет старый <code>Person</code> новым полем <code>weight</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">namedtuple</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Person</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;Person&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span><span class="p">,</span> <span class="s1">&#39;height&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">ExtendedPerson</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;ExtendedPerson&#39;</span><span class="p">,</span> <span class="p">[</span><span class="o">*</span><span class="n">Person</span><span class="o">.</span><span class="n">_fields</span><span class="p">,</span> <span class="s1">&#39;weight&#39;</span><span class="p">])</span>  <span class="c1"># распаковка полей старого кортежа</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">ivan</span> <span class="o">=</span> <span class="n">ExtendedPerson</span><span class="p">(</span><span class="s1">&#39;Иван&#39;</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">179</span><span class="p">,</span> <span class="mi">63</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">ivan</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">ExtendedPerson</span><span class="o">.</span><span class="n">_fields</span><span class="p">)</span>
</span></span></code></pre></div><pre tabindex="0"><code># Вывод:
ExtendedPerson(name=&#39;Иван&#39;, age=19, height=179, weight=63)
(&#39;name&#39;, &#39;age&#39;, &#39;height&#39;, &#39;weight&#39;)
</code></pre><p>Мы также можем использовать атрибут <code>_fields</code> для перебора полей и их значений с помощью встроенной функции <code>zip()</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">namedtuple</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Person</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;Person&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span><span class="p">,</span> <span class="s1">&#39;height&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">ivan</span> <span class="o">=</span> <span class="n">Person</span><span class="p">(</span><span class="s1">&#39;Иван&#39;</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">179</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">field</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">Person</span><span class="o">.</span><span class="n">_fields</span><span class="p">,</span> <span class="n">ivan</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="n">field</span><span class="p">,</span> <span class="s1">&#39;-&gt;&#39;</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</span></span></code></pre></div><pre tabindex="0"><code># Вывод:
name -&gt; Иван
age -&gt; 19
height -&gt; 179
</code></pre><p>С помощью атрибута <code>_field_defaults</code> мы можем выяснить, какие поля именованного кортежа имеют значения по умолчанию:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">namedtuple</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Person</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;Person&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span><span class="p">,</span> <span class="s1">&#39;height&#39;</span><span class="p">,</span> <span class="s1">&#39;country&#39;</span><span class="p">],</span> <span class="n">defaults</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Russia&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">ivan</span> <span class="o">=</span> <span class="n">Person</span><span class="p">(</span><span class="s1">&#39;Иван&#39;</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">179</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">ivan</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">ivan</span><span class="o">.</span><span class="n">_field_defaults</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">Person</span><span class="o">.</span><span class="n">_field_defaults</span><span class="p">)</span>
</span></span></code></pre></div><pre tabindex="0"><code># Вывод:
Person(name=&#39;Иван&#39;, age=19, height=179, country=&#39;Russia&#39;)
{&#39;country&#39;: &#39;Russia&#39;}
{&#39;country&#39;: &#39;Russia&#39;}
</code></pre>
  



<div
  
    class="flex px-4 py-3 rounded-md bg-primary-100 dark:bg-primary-900"
  >

  <span
    
      class="text-primary-400 ltr:pr-3 rtl:pl-3 flex items-center"
    >

    

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 0C114.6 0 0 114.6 0 256s114.6 256 256 256s256-114.6 256-256S397.4 0 256 0zM256 128c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S224 177.7 224 160C224 142.3 238.3 128 256 128zM296 384h-80C202.8 384 192 373.3 192 360s10.75-24 24-24h16v-64H224c-13.25 0-24-10.75-24-24S210.8 224 224 224h32c13.25 0 24 10.75 24 24v88h16c13.25 0 24 10.75 24 24S309.3 384 296 384z"/></svg>

  </span>


  </span>

  <span
    
      class="dark:text-neutral-300"
    >Если именованный кортеж не предоставляет значений по умолчанию, тогда атрибут <code>_field_defaults</code> содержит пустой словарь.</span>
</div>

<hr>


<h3 class="relative group">Методы <code>_make()</code>, <code>_replace()</code>, <code>_asdict()</code> 
    <div id="%D0%BC%D0%B5%D1%82%D0%BE%D0%B4%D1%8B-_make-_replace-_asdict" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%D0%BC%D0%B5%D1%82%D0%BE%D0%B4%D1%8B-_make-_replace-_asdict" aria-label="Якорь">#</a>
    </span>        
    
</h3>
<ul>
<li><code>_make()</code> — метод класса (не экземпляра), работающий как альтернативный конструктор класса и возвращающий новый экземпляр именованного кортежа <code>typename</code>.</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">namedtuple</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Person</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;Person&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span><span class="p">,</span> <span class="s1">&#39;height&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">ivan</span> <span class="o">=</span> <span class="n">Person</span><span class="o">.</span><span class="n">_make</span><span class="p">([</span><span class="s1">&#39;Ivan&#39;</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">179</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">ivan</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Вывод: Person(name=&#39;Ivan&#39;, age=19, height=179)</span>
</span></span></code></pre></div><ul>
<li><code>_asdict()</code> преобразует именованные кортежи в словари, в которых имена полей используются в качестве ключей. Ключи результирующего словаря находятся в том же порядке, что и поля в исходном именованном кортеже.</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">namedtuple</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Person</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;Person&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span><span class="p">,</span> <span class="s1">&#39;height&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">ivan</span> <span class="o">=</span> <span class="n">Person</span><span class="o">.</span><span class="n">_make</span><span class="p">([</span><span class="s1">&#39;Иван&#39;</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">179</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">ivan</span><span class="o">.</span><span class="n">_asdict</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Вывод: {&#39;name&#39;: &#39;Иван&#39;, &#39;age&#39;: 19, &#39;height&#39;: 179}</span>
</span></span></code></pre></div><ul>
<li><code>_replace()</code> создаёт новый именованный кортеж на основе уже существующего с заменой некоторых значений. Потребность в данном методе вызвана тем, что именованные кортежи являются неизменяемыми.</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">namedtuple</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Person</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;Person&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span><span class="p">,</span> <span class="s1">&#39;height&#39;</span><span class="p">,</span> <span class="s1">&#39;country&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">ivan1</span> <span class="o">=</span> <span class="n">Person</span><span class="p">(</span><span class="s1">&#39;Иван&#39;</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">179</span><span class="p">,</span> <span class="s1">&#39;Russia&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">ivan2</span> <span class="o">=</span> <span class="n">ivan1</span><span class="o">.</span><span class="n">_replace</span><span class="p">(</span><span class="n">age</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">country</span><span class="o">=</span><span class="s1">&#39;Germany&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">ivan1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">ivan2</span><span class="p">)</span>
</span></span></code></pre></div><pre tabindex="0"><code># Вывод:
Person(name=&#39;Иван&#39;, age=19, height=179, country=&#39;Russia&#39;)
Person(name=&#39;Иван&#39;, age=20, height=179, country=&#39;Germany&#39;)
</code></pre><hr>


<h3 class="relative group">Схожесть со словарями 
    <div id="%D1%81%D1%85%D0%BE%D0%B6%D0%B5%D1%81%D1%82%D1%8C-%D1%81%D0%BE-%D1%81%D0%BB%D0%BE%D0%B2%D0%B0%D1%80%D1%8F%D0%BC%D0%B8" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%D1%81%D1%85%D0%BE%D0%B6%D0%B5%D1%81%D1%82%D1%8C-%D1%81%D0%BE-%D1%81%D0%BB%D0%BE%D0%B2%D0%B0%D1%80%D1%8F%D0%BC%D0%B8" aria-label="Якорь">#</a>
    </span>        
    
</h3>
<p>Функционал именованных кортежей можно полностью заменить функционалом словарей, тогда зачем вообще нужен этот <code>namedtuple</code>? Если коротко, то он более быстрый и занимает меньше места в памяти. Сравним эти показатели с помощью нехитрых программ.</p>
<p>Начнём с потребления памяти:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">namedtuple</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">pympler</span> <span class="kn">import</span> <span class="n">asizeof</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Person</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;Person&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span><span class="p">,</span> <span class="s1">&#39;height&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">ivan</span> <span class="o">=</span> <span class="n">Person</span><span class="p">(</span><span class="s1">&#39;Иван&#39;</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">179</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">ivan_dct</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Иван&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span><span class="p">:</span> <span class="mi">19</span><span class="p">,</span> <span class="s1">&#39;height&#39;</span><span class="p">:</span> <span class="mi">179</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Именованный кортеж: </span><span class="si">{</span><span class="n">asizeof</span><span class="o">.</span><span class="n">asizeof</span><span class="p">(</span><span class="n">ivan</span><span class="p">)</span><span class="si">}</span><span class="s1"> байт&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Словарь: </span><span class="si">{</span><span class="n">asizeof</span><span class="o">.</span><span class="n">asizeof</span><span class="p">(</span><span class="n">ivan_dct</span><span class="p">)</span><span class="si">}</span><span class="s1"> байт&#39;</span><span class="p">)</span>
</span></span></code></pre></div><pre tabindex="0"><code># Вывод:
Именованный кортеж: 112 байт
Словарь: 304 байт
</code></pre><p>Теперь посмотрим на производительность:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">namedtuple</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">time</span> <span class="kn">import</span> <span class="n">perf_counter</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">average_time</span><span class="p">(</span><span class="n">structure</span><span class="p">,</span> <span class="n">test_func</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">time_measurements</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1_000_000</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="n">start</span> <span class="o">=</span> <span class="n">perf_counter</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="n">test_func</span><span class="p">(</span><span class="n">structure</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">end</span> <span class="o">=</span> <span class="n">perf_counter</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="n">time_measurements</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">end</span> <span class="o">-</span> <span class="n">start</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="n">time_measurements</span><span class="p">)</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">time_measurements</span><span class="p">)</span> <span class="o">*</span> <span class="nb">int</span><span class="p">(</span><span class="mi">10</span><span class="o">**</span><span class="mi">9</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">time_dict</span><span class="p">(</span><span class="n">dictionary</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;name&#39;</span> <span class="ow">in</span> <span class="n">dictionary</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;missing_key&#39;</span> <span class="ow">in</span> <span class="n">dictionary</span>
</span></span><span class="line"><span class="cl">    <span class="mi">28</span> <span class="ow">in</span> <span class="n">dictionary</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;missing_value&#39;</span> <span class="ow">in</span> <span class="n">dictionary</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="n">dictionary</span><span class="p">[</span><span class="s1">&#39;age&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">time_namedtuple</span><span class="p">(</span><span class="n">named_tuple</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;name&#39;</span> <span class="ow">in</span> <span class="n">named_tuple</span><span class="o">.</span><span class="n">_fields</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;missing_field&#39;</span> <span class="ow">in</span> <span class="n">named_tuple</span><span class="o">.</span><span class="n">_fields</span>
</span></span><span class="line"><span class="cl">    <span class="mi">28</span> <span class="ow">in</span> <span class="n">named_tuple</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;missing_value&#39;</span> <span class="ow">in</span> <span class="n">named_tuple</span>
</span></span><span class="line"><span class="cl">    <span class="n">named_tuple</span><span class="o">.</span><span class="n">age</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Person</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;Person&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span><span class="p">,</span> <span class="s1">&#39;height&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">ivan</span> <span class="o">=</span> <span class="n">Person</span><span class="p">(</span><span class="s1">&#39;Иван&#39;</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">179</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">ivan_dct</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Иван&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span><span class="p">:</span> <span class="mi">19</span><span class="p">,</span> <span class="s1">&#39;height&#39;</span><span class="p">:</span> <span class="mi">179</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Именованный кортеж: </span><span class="si">{</span><span class="n">average_time</span><span class="p">(</span><span class="n">ivan</span><span class="p">,</span> <span class="n">time_namedtuple</span><span class="p">)</span><span class="si">}</span><span class="s1"> наносекунд&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Словарь: </span><span class="si">{</span><span class="n">average_time</span><span class="p">(</span><span class="n">ivan_dct</span> <span class="p">,</span> <span class="n">time_dict</span><span class="p">)</span><span class="si">}</span><span class="s1"> наносекунд&#39;</span><span class="p">)</span>
</span></span></code></pre></div><pre tabindex="0"><code># Вывод:
Именованный кортеж: 382 наносекунд
Словарь: 508 наносекунд
</code></pre>

<h2 class="relative group"><center>Defaultdict</center> 
    <div id="centerdefaultdictcenter" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#centerdefaultdictcenter" aria-label="Якорь">#</a>
    </span>        
    
</h2>
<p>Для использования: <code>from collections import defaultdict</code></p>
<p>Основная проблема при работе с обычными словарями — попытка получить доступ к несуществующему ключу, которая вызывает ошибку <code>KeyError</code>. С этим можно справиться через <code>setdefault()</code>, <code>get()</code> или проверкой наличия ключа в словаря (<code>try/except</code> или оператор <code>in</code>), а можно воспользоваться типом данных <code>defaultdict</code>.</p>
<p>Тип <code>defaultdict</code> ведет себя почти так же, как обычный словарь <code>dict</code>, но если мы попытаемся получить доступ (или изменить значение) по несуществующему ключу, то <code>defaultdict</code> автоматически создаст ключ и сгенерирует для него значение по умолчанию. Такое поведение делает этот тип данных удобным вариантом обработки недостающих ключей в словарях.</p>
<p><code>defaultdict</code> является является наследником класса <code>dict</code>, а значит обладает всеми его методами.</p>
<p>Функция <code>defaultdict()</code> принимает в качестве аргумента тип элемента по умолчанию. Таким образом, для ключей, к которым происходит обращение, словарь defaultdict поставит в соответствие дефолтный элемент данного типа:</p>
<ul>
<li><code>int</code> – число <code>0</code>;</li>
<li><code>float</code> – число <code>0.0</code>;</li>
<li><code>bool</code> – значение <code>False</code>;</li>
<li><code>str</code> – пустая строка <code>''</code>;</li>
<li><code>list</code> – пустой список <code>[]</code>;</li>
<li><code>tuple</code> – пустой кортеж <code>()</code>;</li>
<li><code>set</code> – пустое множество <code>set()</code>;</li>
<li><code>dict</code> – пустой словарь <code>{}</code>.</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">defaultdict</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">info</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>       <span class="c1"># создаем словарь со значением по умолчанию 0</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">info</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Ivan&#39;</span>
</span></span><span class="line"><span class="cl"><span class="n">info</span><span class="p">[</span><span class="s1">&#39;age&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">19</span>
</span></span><span class="line"><span class="cl"><span class="n">info</span><span class="p">[</span><span class="s1">&#39;job&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Darkstore&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">info</span><span class="p">[</span><span class="s1">&#39;salary&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">info</span><span class="p">)</span>
</span></span></code></pre></div><pre tabindex="0"><code># Вывод:
0
defaultdict(&lt;class &#39;int&#39;&gt;, {&#39;name&#39;: &#39;Ivan&#39;, &#39;age&#39;: 19, &#39;job&#39;: &#39;Darkstore&#39;, &#39;salary&#39;: 0})
</code></pre><p>Помимо первого аргумента — типа элемента по умолчанию — мы можем передать второй аргумент: словарь, на основании которого будет создан <code>defaultdict</code>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">defaultdict</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">info</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Ivan&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span><span class="p">:</span> <span class="mi">19</span><span class="p">,</span> <span class="s1">&#39;job&#39;</span><span class="p">:</span> <span class="s1">&#39;Darkstore&#39;</span><span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">info</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">info</span><span class="p">[</span><span class="s1">&#39;salary&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">info</span><span class="p">)</span>
</span></span></code></pre></div><pre tabindex="0"><code># Вывод:
Ivan
0
defaultdict(&lt;class &#39;int&#39;&gt;, {&#39;name&#39;: &#39;Ivan&#39;, &#39;age&#39;: 19, &#39;job&#39;: &#39;Darkstore&#39;, &#39;salary&#39;: 0})
</code></pre><p>Также допустимы все способы, которые мы используем при создании обычных словарей, а именно передача именованных аргументов или итерируемого объекта, содержащего пары ключ-значение (например, список кортежей). Правда, следующий код приведёт к ошибке, так как в качестве первого аргумента должен быть указан тип элемента по умолчанию, а не итерируемый объект с парами ключ-значение:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">defaultdict</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">info</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">([(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;Ivan&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;age&#39;</span><span class="p">,</span> <span class="mi">19</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;job&#39;</span><span class="p">,</span> <span class="s1">&#39;Darkstore&#39;</span><span class="p">)])</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">info</span><span class="p">)</span>
</span></span></code></pre></div><p>Если же создать экземпляр <code>defaultdict</code> словаря без указания <code>default_factory</code> (значения по умолчанию для отсутствующих ключей), то поведение <code>defaultdict</code> будет таким же, как и у обычного словаря (тип <code>dict</code>). То же самое произойдёт, если передать значение <code>None</code> (является значением по умолчанию для <code>default_factory</code>) Следующий код вызовет ошибку <code>KeyError</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">defaultdict</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">data</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">()</span>    <span class="c1"># или data = defaultdict(None)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;salary&#39;</span><span class="p">])</span>
</span></span></code></pre></div><p>Если в ходе написания кода потребуется изменить значение по умолчанию, это можно осуществить через атрибут <code>default_factory</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">defaultdict</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">data</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;salary1&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">data</span><span class="o">.</span><span class="n">default_factory</span> <span class="o">=</span> <span class="nb">list</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;salary2&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">data</span><span class="o">.</span><span class="n">default_factory</span> <span class="o">=</span> <span class="nb">float</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;salary3&#39;</span><span class="p">])</span>
</span></span></code></pre></div><pre tabindex="0"><code># Вывод:
0
[]
0.0
</code></pre><p>При создании <code>defaultdict</code> словаря можно указывать не только тип данных для значений по умолчанию, но и любую функцию, <strong>не принимающую аргументов и возвращающую некоторое дефолтное значение</strong>.</p>
<p>Передадим функцию, объявленную с помощью <code>def</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">defaultdict</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">get_default</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="mi">69</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">info</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="n">get_default</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Ivan&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span><span class="p">:</span> <span class="mi">19</span><span class="p">,</span> <span class="s1">&#39;job&#39;</span><span class="p">:</span> <span class="s1">&#39;Darkstore&#39;</span><span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">info</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">info</span><span class="p">[</span><span class="s1">&#39;salary&#39;</span><span class="p">])</span>
</span></span></code></pre></div><pre tabindex="0"><code># Вывод:
Ivan
69
</code></pre><p>Теперь передадим lambda-функцию:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">defaultdict</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">info</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="s1">&#39;1000000$&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Ivan&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span><span class="p">:</span> <span class="mi">19</span><span class="p">,</span> <span class="s1">&#39;job&#39;</span><span class="p">:</span> <span class="s1">&#39;Darkstore&#39;</span><span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">info</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">info</span><span class="p">[</span><span class="s1">&#39;salary&#39;</span><span class="p">])</span>
</span></span></code></pre></div><pre tabindex="0"><code># Вывод:
Ivan
1000000$
</code></pre><p>Рассмотрим задачу и решим её с помощью <code>defaultdict</code>: пусть задан список чисел numbers, в котором некоторые числа встречаются несколько раз. Нужно узнать, сколько именно раз встречается каждое из чисел.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">defaultdict</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">numbers</span> <span class="o">=</span> <span class="p">[</span><span class="mi">9</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">23</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="n">result</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="n">numbers</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">result</span><span class="p">[</span><span class="n">num</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
</span></span></code></pre></div><p><code>defaultdict</code> часто используют в связке с пустым списком в качестве значения по умолчанию, чтобы начинать добавление элементов без лишнего кода.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">defaultdict</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">my_dict</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">7</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">my_dict</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">my_dict</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">my_dict</span><span class="p">[</span><span class="n">key</span><span class="p">])</span>
</span></span></code></pre></div><pre tabindex="0"><code># Вывод:
0 [0]
1 [1]
2 [2]
3 [3]
4 [4]
5 [5]
6 [6]
</code></pre><p>Таким образом, при использовании <code>defaultdict</code> нет необходимости ни проверять наличие соответствующих ключей в словаре, ни создавать предварительно пустые списки.</p>
<p>Python позволяет сравнивать <code>defaultdict</code> и <code>dict</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">defaultdict</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">info1</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Ivan&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span><span class="p">:</span> <span class="mi">19</span><span class="p">,</span> <span class="s1">&#39;job&#39;</span><span class="p">:</span> <span class="s1">&#39;Darkstore&#39;</span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="n">info2</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Ivan&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span><span class="p">:</span> <span class="mi">19</span><span class="p">,</span> <span class="s1">&#39;job&#39;</span><span class="p">:</span> <span class="s1">&#39;Darkstore&#39;</span><span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">info1</span> <span class="o">==</span> <span class="n">info2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Вывод: True</span>
</span></span></code></pre></div>

<h3 class="relative group">Когда использовать <code>defaultdict</code>? 
    <div id="%D0%BA%D0%BE%D0%B3%D0%B4%D0%B0-%D0%B8%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D1%8C-defaultdict" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%D0%BA%D0%BE%D0%B3%D0%B4%D0%B0-%D0%B8%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D1%8C-defaultdict" aria-label="Якорь">#</a>
    </span>        
    
</h3>
<p>Есть несколько рекомендаций:</p>
<ol>
<li>Если ваш код в значительной степени основан на словарях и вы все время имеете дело с отсутствующими ключами, вам следует подумать об использовании <code>defaultdict</code>, а не обычного <code>dict</code>;</li>
<li>Если элементы вашего словаря необходимо инициализировать некоторым значением по умолчанию, вам следует подумать об использовании <code>defaultdict</code>, вместо <code>dict</code>;</li>
<li>Если ваш код использует словари для агрегирования, накопления, подсчета или группировки значений, вам следует подумать об использовании <code>defaultdict</code>, вместо <code>dict</code>.</li>
</ol>
<p>К слову, тип <code>defaultdict</code> работает быстрее чем использование методов <code>setdefault()</code> и <code>get()</code> обычного словаря.</p>


<h2 class="relative group"><center>OrderedDict</center> 
    <div id="centerordereddictcenter" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#centerordereddictcenter" aria-label="Якорь">#</a>
    </span>        
    
</h2>
<p>Для использования: <code>from collections import OrderedDict</code></p>
<p>Для использования: <code>from collections import OrderedDict</code></p>
<p>В Python 3.6 словари были переработаны так, чтобы повысилась их производительность (и понизилось потребление памяти на 20-25%). Следствием такой переработки явился один очень интересный побочный эффект — словари стали упорядоченными, то есть стали сохранять порядок вставки элементов, хотя на тот момент официально этот порядок не гарантировался. «Официально не гарантируется» означает, что это была просто деталь реализации, которая могла быть изменена в будущих версиях Python. Но начиная с Python 3.7, в спецификации языка гарантируется сохранение порядка вставки элементов в словарь.</p>
<p>Задолго до переработки устройства словарей в рамках релиза Python 3.1 в стандартную библиотеку был добавлен тип <code>OrderedDict</code>, который на тот момент решал проблему неупорядоченности обычных словарей.</p>
<p>Стоит учесть, что в <code>OrderedDict</code> стоит использовать только для обратной совместимости со старыми программами на версиях Python, когда <code>dict</code> ещё не был упорядочен, ведь обычный словарь быстрее на 40% и занимает на 50% меньше памяти.</p>
<p>Таблица различий и особенностей классов <code>dict</code> и <code>OrderedDict</code>:</p>
<table>
<thead>
<tr>
<th style="text-align:left">Функционал</th>
<th style="text-align:left">`OrderedDict</th>
<th style="text-align:left">dict</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Сохранность порядка вставки ключей</td>
<td style="text-align:left">Да (начиная с Python 3.1)</td>
<td style="text-align:left">Да (начиная с Python 3.6)</td>
</tr>
<tr>
<td style="text-align:left">Удобочитаемость и сигнализация о намерениях</td>
<td style="text-align:left">Высокая</td>
<td style="text-align:left">Низкая</td>
</tr>
<tr>
<td style="text-align:left">Возможность менять порядок элементов</td>
<td style="text-align:left">Да (метод <code>move_to_end()</code>)</td>
<td style="text-align:left">Нет</td>
</tr>
<tr>
<td style="text-align:left">Производительность операций</td>
<td style="text-align:left">Низкая</td>
<td style="text-align:left">Высокая</td>
</tr>
<tr>
<td style="text-align:left">Потребление памяти</td>
<td style="text-align:left">Высокое</td>
<td style="text-align:left">Низкое</td>
</tr>
<tr>
<td style="text-align:left">Учет порядка элементов при сравнении на равенство</td>
<td style="text-align:left">Да</td>
<td style="text-align:left">Нет</td>
</tr>
<tr>
<td style="text-align:left">Перебор ключей в обратном порядке</td>
<td style="text-align:left">Да (начиная с Python 3.5)</td>
<td style="text-align:left">Да (начиная с Python 3.8)</td>
</tr>
<tr>
<td style="text-align:left">Возможность добавления пользовательских атрибутов</td>
<td style="text-align:left">Да (атрибут <code>.__dict__</code>)</td>
<td style="text-align:left">Нет</td>
</tr>
<tr>
<td style="text-align:left">Возможность использовать операторы <code>|</code> и <code>|=</code></td>
<td style="text-align:left">Да (начиная с Python 3.9)</td>
<td style="text-align:left">Да (начиная с Python 3.9)</td>
</tr>
</tbody>
</table>
<p><code>OrderedDict</code> является подклассом <code>dict</code>, а значит обладает всеми его методами, также имея собственные методы.</p>
<p>Как и <code>defaultdict</code>, эти словари можно создавать любым из доступных способов, как и обычные словари:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">OrderedDict</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">numbers1</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">({</span><span class="s1">&#39;one&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;two&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;three&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="n">numbers2</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">({(</span><span class="s1">&#39;one&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;two&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;three&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)})</span>
</span></span><span class="line"><span class="cl"><span class="n">numbers3</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">(</span><span class="n">one</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">two</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">three</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</span></span></code></pre></div><p>В большинстве случаев <code>OrderedDict</code> ведёт себя как и обычный словарь: программист может добавлять, обновлять, удалять, перебирать (по <code>keys()</code>, <code>values()</code> и <code>items()</code>) элементы, объединять словари с помощью операторов <code>|</code> и <code>|=</code> (конкатенация словарей). Словарь (обычный или <code>OrderedDict</code>) можно &ldquo;развернуть&rdquo; функцией <code>reversed()</code>.<br>
Обновляя значение ключа, позиция сохраняется, удаляя ключ и снова добавляя его, он помещается в конец словаря.</p>

  



<div
  
    class="flex px-4 py-3 rounded-md bg-primary-100 dark:bg-primary-900"
  >

  <span
    
      class="text-primary-400 ltr:pr-3 rtl:pl-3 flex items-center"
    >

    

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 0C114.6 0 0 114.6 0 256s114.6 256 256 256s256-114.6 256-256S397.4 0 256 0zM256 128c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S224 177.7 224 160C224 142.3 238.3 128 256 128zM296 384h-80C202.8 384 192 373.3 192 360s10.75-24 24-24h16v-64H224c-13.25 0-24-10.75-24-24S210.8 224 224 224h32c13.25 0 24 10.75 24 24v88h16c13.25 0 24 10.75 24 24S309.3 384 296 384z"/></svg>

  </span>


  </span>

  <span
    
      class="dark:text-neutral-300"
    >Значение по ключу можно обновить как через квадратные скобки, так и через словарный метод <code>update()</code></span>
</div>



<h3 class="relative group">Метод <code>move_to_end()</code> 
    <div id="%D0%BC%D0%B5%D1%82%D0%BE%D0%B4-move_to_end" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%D0%BC%D0%B5%D1%82%D0%BE%D0%B4-move_to_end" aria-label="Якорь">#</a>
    </span>        
    
</h3>
<p>Метод <code>move_to_end()</code> позволяет переместить существующий элемент либо в конец, либо в начало словаря.
Ему можно передать два аргумента:</p>
<ul>
<li><code>key</code> (обязательный) – ключ, который идентифицирует перемещаемый элемент</li>
<li><code>last=True</code> (необязательный) – логическое значение (тип <code>bool</code>), которое определяет, в какой конец словаря мы перемещаем элемент, значение <code>True</code> (по умолчанию) перемещает элемент в конец, значение <code>False</code> – в начало</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">OrderedDict</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">numbers</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">(</span><span class="n">one</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">two</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">three</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">numbers</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">numbers</span><span class="o">.</span><span class="n">move_to_end</span><span class="p">(</span><span class="s1">&#39;one&#39;</span><span class="p">)</span>       <span class="c1"># last=True</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">numbers</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">numbers</span><span class="o">.</span><span class="n">move_to_end</span><span class="p">(</span><span class="s1">&#39;three&#39;</span><span class="p">,</span> <span class="n">last</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>       <span class="c1"># last=False</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">numbers</span><span class="p">)</span>
</span></span></code></pre></div><pre tabindex="0"><code># Вывод:
OrderedDict({(&#39;one&#39;, 1), (&#39;two&#39;, 2), (&#39;three&#39;, 3)})
OrderedDict({(&#39;two&#39;, 2), (&#39;three&#39;, 3), (&#39;one&#39;, 1)})
OrderedDict({(&#39;three&#39;, 3), (&#39;two&#39;, 2), (&#39;one&#39;, 1)})
</code></pre><p>С помощью метода <code>move_to_end()</code> можно сортировать <code>OrderedDict</code> по ключам:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">OrderedDict</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">letters</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">(</span><span class="n">b</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">d</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">letters</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">letters</span><span class="o">.</span><span class="n">move_to_end</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">letters</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Вывод: OrderedDict({(&#39;a&#39;, 1), (&#39;b&#39;, 2), (&#39;c&#39;, 3), (&#39;d&#39;, 4)})</span>
</span></span></code></pre></div>

<h3 class="relative group">Метод <code>popitem()</code> 
    <div id="%D0%BC%D0%B5%D1%82%D0%BE%D0%B4-popitem" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%D0%BC%D0%B5%D1%82%D0%BE%D0%B4-popitem" aria-label="Якорь">#</a>
    </span>        
    
</h3>
<p>Метод <code>popitem(last=True)</code> по умолчанию удаляет и возвращает элемент в порядке LIFO (Last-In/First-Out, последний пришел/первый ушел), то есть удаляет элементы с конца словаря.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">OrderedDict</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">numbers</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">(</span><span class="n">one</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">two</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">three</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">numbers</span><span class="o">.</span><span class="n">popitem</span><span class="p">())</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">numbers</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">numbers</span><span class="o">.</span><span class="n">popitem</span><span class="p">())</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">numbers</span><span class="p">)</span>
</span></span></code></pre></div><pre tabindex="0"><code># Вывод:
(&#39;three&#39;, 3)
OrderedDict({(&#39;one&#39;, 1), (&#39;two&#39;, 2)})
(&#39;two&#39;, 2)
OrderedDict({(&#39;one&#39;, 1)})
</code></pre>

<h3 class="relative group">Атрибут <code>.__dict__</code> 
    <div id="%D0%B0%D1%82%D1%80%D0%B8%D0%B1%D1%83%D1%82-__dict__" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%D0%B0%D1%82%D1%80%D0%B8%D0%B1%D1%83%D1%82-__dict__" aria-label="Якорь">#</a>
    </span>        
    
</h3>
<p><code>OrderedDict</code> словари содержат дополнительный атрибут <code>__dict__</code>, которого нет у обычного словаря. Данный атрибут используется для динамического наделения объектов дополнительным функционалом. Этот атрибут позволяет динамически добавлять пользовательские атрибуты в <code>OrderedDict</code>. Использовать его можно двумя способами:</p>
<ol>
<li>В стиле словаря: <code>ordered_dict.__dict__['attr'] = value</code>;</li>
<li>Через точечную нотацию: <code>ordered_dict.attr = value</code>.</li>
</ol>
<p>1:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">OrderedDict</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">letters</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">(</span><span class="n">b</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">d</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">letters</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">letters</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">letters</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s1">&#39;advanced&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;144&#39;</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">letters</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">letters</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">)</span>
</span></span></code></pre></div><pre tabindex="0"><code># Вывод:
OrderedDict({(&#39;b&#39;, 2), (&#39;d&#39;, 4), (&#39;a&#39;, 1), (&#39;c&#39;, 3)})
{}
OrderedDict({(&#39;b&#39;, 2), (&#39;d&#39;, 4), (&#39;a&#39;, 1), (&#39;c&#39;, 3)})
{&#39;advanced&#39;: &#39;144&#39;}
</code></pre><p>2:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">OrderedDict</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">letters</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">(</span><span class="n">b</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">d</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">letters</span><span class="o">.</span><span class="n">sorted_keys</span> <span class="o">=</span> <span class="k">lambda</span><span class="p">:</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">letters</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">letters</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">letters</span><span class="o">.</span><span class="n">sorted_keys</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">letters</span><span class="p">[</span><span class="s1">&#39;e&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">5</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">letters</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">letters</span><span class="o">.</span><span class="n">sorted_keys</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">letters</span><span class="o">.</span><span class="n">sorted_keys</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="s1">&#39;-&gt;&#39;</span><span class="p">,</span> <span class="n">letters</span><span class="p">[</span><span class="n">key</span><span class="p">])</span>
</span></span></code></pre></div><pre tabindex="0"><code># Вывод:
OrderedDict({(&#39;b&#39;, 2), (&#39;d&#39;, 4), (&#39;a&#39;, 1), (&#39;c&#39;, 3)})
[&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;]
OrderedDict({(&#39;b&#39;, 2), (&#39;d&#39;, 4), (&#39;a&#39;, 1), (&#39;c&#39;, 3), (&#39;e&#39;, 5)})
[&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;]
a -&gt; 1
b -&gt; 2
c -&gt; 3
d -&gt; 4
e -&gt; 5
</code></pre><p>Если же методу передать необязательный аргумент <code>last=False</code>, то он начнет удалять и возвращать элементы в порядке FIFO (First-In/First-Out, первый пришел/первый ушел).</p>


<h3 class="relative group">Сравнение словарей 
    <div id="%D1%81%D1%80%D0%B0%D0%B2%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5-%D1%81%D0%BB%D0%BE%D0%B2%D0%B0%D1%80%D0%B5%D0%B9" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%D1%81%D1%80%D0%B0%D0%B2%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5-%D1%81%D0%BB%D0%BE%D0%B2%D0%B0%D1%80%D0%B5%D0%B9" aria-label="Якорь">#</a>
    </span>        
    
</h3>
<p>Стоит просто запомнить три истины:</p>
<ul>
<li>При сравнении на равенство обычных словарей порядок расположения их элементов <strong>неважен</strong>.</li>
<li>При сравнении на равенство <code>dict</code> и <code>OrderedDict</code> словарей порядок расположения их элементов <strong>неважен</strong>.</li>
<li>При сравнение на равенство <code>OrderedDict</code> словарей порядок расположения их элементов <strong>важен</strong>.</li>
</ul>
<hr>


<h2 class="relative group"><center>Counter</center> 
    <div id="centercountercenter" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#centercountercenter" aria-label="Якорь">#</a>
    </span>        
    
</h2>
<p>Для использования: <code>from collections import Counter</code></p>
<p><code>Counter</code> является подклассом <code>dict</code>, специально разработанным для подсчёта хэшируемых объектов в Python. Он хранит объекты в качестве ключей, а их количество — в качестве значений. Для подсчёта класс <code>Counter</code> использует высокооптимизированную функцию, написанную на языке C.</p>

  



<div
  
    class="flex px-4 py-3 rounded-md bg-primary-100 dark:bg-primary-900"
  >

  <span
    
      class="text-primary-400 ltr:pr-3 rtl:pl-3 flex items-center"
    >

    

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M0 96C0 78.33 14.33 64 32 64H416C433.7 64 448 78.33 448 96C448 113.7 433.7 128 416 128H32C14.33 128 0 113.7 0 96zM0 256C0 238.3 14.33 224 32 224H416C433.7 224 448 238.3 448 256C448 273.7 433.7 288 416 288H32C14.33 288 0 273.7 0 256zM416 448H32C14.33 448 0 433.7 0 416C0 398.3 14.33 384 32 384H416C433.7 384 448 398.3 448 416C448 433.7 433.7 448 416 448z"/></svg>

  </span>


  </span>

  <span
    
      class="dark:text-neutral-300"
    >С помощью типа <code>Counter</code> можно реализовать концепцию мультимножества</span>
</div>

<p>Есть несколько способов создать объект <code>Counter</code>. Например, можно передать коллекцию или итератор в конструктор:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">Counter</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">counter</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="s1">&#39;mississippi&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">counter</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Вывод: Counter({&#39;i&#39;: 4, &#39;s&#39;: 4, &#39;p&#39;: 2, &#39;m&#39;: 1})</span>
</span></span></code></pre></div>
  



<div
  
    class="flex px-4 py-3 rounded-md bg-primary-100 dark:bg-primary-900"
  >

  <span
    
      class="text-primary-400 ltr:pr-3 rtl:pl-3 flex items-center"
    >

    

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 0C114.6 0 0 114.6 0 256s114.6 256 256 256s256-114.6 256-256S397.4 0 256 0zM256 128c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S224 177.7 224 160C224 142.3 238.3 128 256 128zM296 384h-80C202.8 384 192 373.3 192 360s10.75-24 24-24h16v-64H224c-13.25 0-24-10.75-24-24S210.8 224 224 224h32c13.25 0 24 10.75 24 24v88h16c13.25 0 24 10.75 24 24S309.3 384 296 384z"/></svg>

  </span>


  </span>

  <span
    
      class="dark:text-neutral-300"
    ><code>Counter</code> выдает результат в порядке убывания количества вхождений объектов</span>
</div>

<p>Также при создании объекта <code>Counter</code> можно задавать начальные значения количества объектов:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">Counter</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">counter1</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">({</span><span class="s1">&#39;i&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;s&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;p&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;m&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="n">counter2</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">m</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">counter1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">counter2</span><span class="p">)</span>
</span></span></code></pre></div><pre tabindex="0"><code># Вывод:
Counter({&#39;i&#39;: 4, &#39;s&#39;: 4, &#39;p&#39;: 2, &#39;m&#39;: 1})
Counter({&#39;i&#39;: 4, &#39;s&#39;: 4, &#39;p&#39;: 2, &#39;m&#39;: 1})
</code></pre><p>Класс <code>Counter</code>, будучи подклассом типа <code>dict</code>, наследует все методы, предоставляемые обычным словарем. Но вызов метода <code>fromkeys()</code> всегда будет приводить к возникновению ошибки. Такое поведение не случайно, оно позволяет избежать ошибок неоднозначности при создании объектов типа <code>Counter</code>, например следующий код: <code>counter = Counter.fromkeys('mississippi', 2)</code> мог бы создать объект типа <code>Counter</code> на основе строки <code>mississippi</code> со значением по умолчанию равным 2 для всех символов строки, несмотря на реальное количество вхождений символов в строке <code>mississippi</code>.</p>
<p>Как и в обычных словарях, ключи в объектах <code>Counter</code> должны быть хэшируемы. Ограничений на тип значений нет, но для нормальной работы подсчёта объектов в качестве значений должны быть целые неотрицательные числа.</p>
<p>Доступ к элементам и итерирование по <code>Counter</code> словарям работает так же, как и у обычных словарей. Мы можем перебирать ключи напрямую или можем использовать словарные методы <code>items()</code>, <code>keys()</code> и <code>values()</code>. При этом, если обратиться по ключу, которого нет в <code>Counter</code> словаре, то ошибка <code>KeyError</code> возникать <strong>не будет</strong>. Будет возвращено нулевое значение (ключ создан не будет).</p>
<p>Объекты типа <code>Counter</code> можно сравнивать между собой. Очевидно, что одинаковыми будут те, что имеют одинаковые элементы (ключ: значение). Также до версии Python 3.10 словари <code>Counter(i=4)</code> и <code>Counter(i=4, s=0)</code> считались разными, но, начиная с Python 3.10 сравнение рассматривает отсутствующие элементы как имеющие нулевое значение, поэтому следующий код вернёт <code>True</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">Counter</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">counter1</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">counter2</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">counter1</span> <span class="o">==</span> <span class="n">counter2</span><span class="p">)</span>
</span></span></code></pre></div><p>Объекты класса <code>Counter</code>, аналогично объектам <code>OrderedDict</code>, содержат дополнительный атрибут <code>__dict__</code>, который используется для динамического наделения объектов дополнительным функционалом:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">Counter</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">counter</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">green</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">red</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">blue</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">counter</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">counter</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s1">&#39;min_value&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="k">lambda</span><span class="p">:</span> <span class="nb">min</span><span class="p">(</span><span class="n">counter</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
</span></span><span class="line"><span class="cl"><span class="n">counter</span><span class="o">.</span><span class="n">max_value</span> <span class="o">=</span> <span class="k">lambda</span><span class="p">:</span> <span class="nb">max</span><span class="p">(</span><span class="n">counter</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">counter</span><span class="o">.</span><span class="n">min_value</span><span class="p">())</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">counter</span><span class="o">.</span><span class="n">max_value</span><span class="p">())</span>
</span></span></code></pre></div><pre tabindex="0"><code># Вывод:
{}
5
25
</code></pre>

<h3 class="relative group">Метод <code>update()</code> 
    <div id="%D0%BC%D0%B5%D1%82%D0%BE%D0%B4-update" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%D0%BC%D0%B5%D1%82%D0%BE%D0%B4-update" aria-label="Якорь">#</a>
    </span>        
    
</h3>
<p>Для изменения объектов типа <code>Counter</code> рекомендуется использовать метод <code>update()</code>. Он не заменяет значения как у обычных словарей, а суммирует существующие. При этом для новых объектов <code>update()</code> создаёт новые пары <code>ключ: количество</code>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">Counter</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">letters</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">({</span><span class="s1">&#39;i&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;s&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;p&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;m&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="n">letters</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="s1">&#39;missouri&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">letters</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Вывод: Counter({&#39;i&#39;: 6, &#39;s&#39;: 6, &#39;p&#39;: 2, &#39;m&#39;: 2, &#39;o&#39;: 1, &#39;u&#39;: 1, &#39;r&#39;: 1})</span>
</span></span></code></pre></div><p>Метод <code>update()</code> принимает любой итерируемый объект: список, строку, кортеж и т.д., другой объект типа <code>Counter</code>, либо обычный словарь. Также его можно использовать с именованными аргументами, например следующие две строки кода равнозначны: <code>sales.update(apple=3, orange=12, banana=7)</code> и <code>sales.update(monday_sales)</code>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">Counter</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">sales</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">apple</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">orange</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">banana</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">monday_sales</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">apple</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">orange</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">banana</span><span class="o">=</span><span class="mi">7</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">tuesday_sales</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;apple&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;orange&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;tomato&#39;</span><span class="p">:</span> <span class="mi">6</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">sales</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">sales</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">monday_sales</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">sales</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">sales</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">tuesday_sales</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">sales</span><span class="p">)</span>
</span></span></code></pre></div><pre tabindex="0"><code># Вывод:
Counter({&#39;apple&#39;: 20, &#39;banana&#39;: 10, &#39;orange&#39;: 5})
Counter({&#39;apple&#39;: 23, &#39;orange&#39;: 17, &#39;banana&#39;: 17})
Counter({&#39;apple&#39;: 27, &#39;orange&#39;: 22, &#39;banana&#39;: 17, &#39;tomato&#39;: 6})
</code></pre><p>Если значения по ключам будут иметь тип, отличный от <code>int</code>, но работающий с оператором <code>+</code>, то то ошибки при вызове метода <code>update()</code> не возникнет:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">Counter</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">counter1</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="s1">&#39;4&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">counter2</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="s1">&#39;5&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">counter1</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">counter2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">counter1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Вывод: Counter({&#39;i&#39;: 9, &#39;s&#39;: &#39;54&#39;})</span>
</span></span></code></pre></div><p>Из предыдущего кода также можем заметить, что под ключом <code>'s'</code> содержится не <code>'45'</code>, а <code>'54'</code>. Так устроен метод <code>update()</code> — он складывает значение переданного объекта с изменяемым, но не наоборот, то есть <code>'5' + '4'</code>.</p>
<hr>


<h3 class="relative group">Метод <code>most_common()</code> 
    <div id="%D0%BC%D0%B5%D1%82%D0%BE%D0%B4-most_common" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%D0%BC%D0%B5%D1%82%D0%BE%D0%B4-most_common" aria-label="Якорь">#</a>
    </span>        
    
</h3>
<p><code>most_common()</code> возвращает список наиболее повторяемых элементов и количество каждого из них в виде кортежей <code>(ключ, число повторений)</code>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">Counter</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">letters</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="s1">&#39;mississippi&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">numbers</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">letters</span><span class="o">.</span><span class="n">most_common</span><span class="p">())</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">numbers</span><span class="o">.</span><span class="n">most_common</span><span class="p">())</span>
</span></span></code></pre></div><pre tabindex="0"><code># Вывод:
[(&#39;i&#39;, 4), (&#39;s&#39;, 4), (&#39;p&#39;, 2), (&#39;m&#39;, 1)]
[(5, 3), (7, 3), (9, 3), (1, 2), (6, 1), (3, 1), (2, 1)]
</code></pre><p>Если методу <code>most_common()</code> передать целочисленный аргумент <code>n</code>, то он вернет <code>n</code> самых часто повторяющихся элементов.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">Counter</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">letters</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="s1">&#39;mississippi&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">letters</span><span class="o">.</span><span class="n">most_common</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Вывод: [(&#39;i&#39;, 4), (&#39;s&#39;, 4)]</span>
</span></span></code></pre></div><p>Для поиска самых редких элементов, можно использовать срезы с отрицательным шагом.</p>
<hr>


<h3 class="relative group">Метод <code>elements()</code> 
    <div id="%D0%BC%D0%B5%D1%82%D0%BE%D0%B4-elements" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%D0%BC%D0%B5%D1%82%D0%BE%D0%B4-elements" aria-label="Якорь">#</a>
    </span>        
    
</h3>
<p><code>elements()</code> возвращает итератор по элементам, в котором каждый элемент повторяется столько раз, во сколько установлено его значение. Элементы возвращаются в порядке их появления. При этом, если количество элементов по некоторому ключу меньше единицы, то метод <code>elements()</code> просто проигнорирует его.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">Counter</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">letters</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="s1">&#39;mississippi&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">numbers</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">letters</span><span class="o">.</span><span class="n">elements</span><span class="p">()))</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">numbers</span><span class="o">.</span><span class="n">elements</span><span class="p">()))</span>
</span></span></code></pre></div><pre tabindex="0"><code># Вывод:
[&#39;m&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;, &#39;i&#39;, &#39;s&#39;, &#39;s&#39;, &#39;s&#39;, &#39;s&#39;, &#39;p&#39;, &#39;p&#39;]
[5, 5, 5, 6, 7, 7, 7, 1, 1, 3, 9, 9, 9, 2]
</code></pre>

<h3 class="relative group">Метод <code>total()</code> 
    <div id="%D0%BC%D0%B5%D1%82%D0%BE%D0%B4-total" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%D0%BC%D0%B5%D1%82%D0%BE%D0%B4-total" aria-label="Якорь">#</a>
    </span>        
    
</h3>
<p>В Python 3.10 появился метод <code>total()</code>, который вычисляет сумму всех значений <code>Counter</code> словаря, включая отрицательные.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">Counter</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">letters</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">a</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">b</span><span class="o">=-</span><span class="mi">98</span><span class="p">,</span> <span class="n">m</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">letters</span><span class="o">.</span><span class="n">total</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Вывод: -87</span>
</span></span></code></pre></div><hr>


<h3 class="relative group">Метод <code>subtract()</code> 
    <div id="%D0%BC%D0%B5%D1%82%D0%BE%D0%B4-subtract" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%D0%BC%D0%B5%D1%82%D0%BE%D0%B4-subtract" aria-label="Якорь">#</a>
    </span>        
    
</h3>
<p><code>subtract()</code> вычитает из значений элементов одного словаря <code>Counter</code> значения элементов другого словаря. Этот метод подобен <code>update()</code>, но вычитает количества, а не складывает их. При этом у результирующего словаря значения ключей могут быть нулевыми или отрицательными.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">Counter</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">counter1</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span> <span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">98</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="mi">69</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">counter2</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">a</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">m</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="mi">69</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">counter1</span><span class="o">.</span><span class="n">subtract</span><span class="p">(</span><span class="n">counter2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">counter1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Вывод: Counter({&#39;b&#39;: 98, &#39;s&#39;: 20, &#39;p&#39;: 8, &#39;i&#39;: 2, &#39;z&#39;: 0, &#39;m&#39;: -1, &#39;a&#39;: -5})</span>
</span></span></code></pre></div><p>Помимо словарей, метод <code>subtract()</code> может принимать любой итерируемый объект: список, строку, кортеж и т.д., а также его можно использовать с именованными аргументами.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">Counter</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">counter</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span> <span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">98</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="mi">69</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">letters</span> <span class="o">=</span> <span class="s1">&#39;iisssssapppz&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">counter</span><span class="o">.</span><span class="n">subtract</span><span class="p">(</span><span class="n">letters</span><span class="p">)</span>       <span class="c1"># обновляем значения в counter</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">counter</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Вывод: Counter({&#39;b&#39;: 98, &#39;z&#39;: 68, &#39;s&#39;: 35, &#39;p&#39;: 17, &#39;i&#39;: 2, &#39;a&#39;: 0})</span>
</span></span></code></pre></div><hr>


<h3 class="relative group">Операторы <code>+, -, &amp;, |</code> 
    <div id="%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%82%D0%BE%D1%80%D1%8B-----" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%82%D0%BE%D1%80%D1%8B-----" aria-label="Якорь">#</a>
    </span>        
    
</h3>
<p>Как мы уже знаем, методы <code>update()</code> и <code>subtract()</code> объединяют <code>Counter</code> словари путем сложения и вычитания количества соответствующих элементов. Python предоставляет удобные операторы сложения (<code>+</code>) и вычитания (<code>-</code>), которые могут заменить вызовы данных методов. При использовании этих операторов из результирующего словаря исключаются элементы с нулевыми и отрицательными значениями.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">Counter</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">counter1</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">m</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">counter2</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">m</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">counter1</span> <span class="o">+</span> <span class="n">counter2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">counter1</span> <span class="o">-</span> <span class="n">counter2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">counter2</span> <span class="o">-</span> <span class="n">counter1</span><span class="p">)</span>
</span></span></code></pre></div><pre tabindex="0"><code># Вывод:
Counter({&#39;s&#39;: 48, &#39;p&#39;: 20, &#39;i&#39;: 12, &#39;m&#39;: 4})
Counter({&#39;s&#39;: 32, &#39;i&#39;: 8})
Counter({&#39;m&#39;: 2})
</code></pre>
  



<div
  
    class="flex px-4 py-3 rounded-md bg-primary-100 dark:bg-primary-900"
  >

  <span
    
      class="text-primary-400 ltr:pr-3 rtl:pl-3 flex items-center"
    >

    

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 0C114.6 0 0 114.6 0 256s114.6 256 256 256s256-114.6 256-256S397.4 0 256 0zM256 128c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S224 177.7 224 160C224 142.3 238.3 128 256 128zM296 384h-80C202.8 384 192 373.3 192 360s10.75-24 24-24h16v-64H224c-13.25 0-24-10.75-24-24S210.8 224 224 224h32c13.25 0 24 10.75 24 24v88h16c13.25 0 24 10.75 24 24S309.3 384 296 384z"/></svg>

  </span>


  </span>

  <span
    
      class="dark:text-neutral-300"
    >Операторы <code>+</code> и <code>-</code> работают только с <code>Counter</code> словарями, в то время как методы <code>update()</code> и <code>subtract()</code> — с любым итерируемым объектом</span>
</div>

<p><code>Counter</code> позволяет также использовать унарные операторы сложения и вычитания. В первом случае мы получаем новый <code>Counter</code> словарь, который содержит только элементы с положительными значениями, во втором — элементы с отрицательными значениями. Другими словами, операторы унарного сложения и вычитания прибавляют пустой Counter словарь или вычитают исходный из пустого. Следующие два блока кодов равнозначны:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">Counter</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">counter</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">b</span><span class="o">=-</span><span class="mi">9</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="o">+</span><span class="n">counter</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="o">-</span><span class="n">counter</span><span class="p">)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">Counter</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">counter</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">b</span><span class="o">=-</span><span class="mi">9</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="o">+</span><span class="n">counter</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="o">-</span><span class="n">counter</span><span class="p">)</span>
</span></span></code></pre></div><p>и выводят:</p>
<pre tabindex="0"><code># Вывод:
Counter({&#39;a&#39;: 5})
Counter({&#39;b&#39;: 9})
</code></pre><p>Помимо указанных выше операторов, Python также предоставляет операторы пересечения (<code>&amp;</code>) и объединения (<code>|</code>), которые возвращают минимум и максимум из соответствующих значений.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">Counter</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">counter1</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">m</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">counter2</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">m</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">counter1</span> <span class="o">&amp;</span> <span class="n">counter2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">counter1</span> <span class="o">|</span> <span class="n">counter2</span><span class="p">)</span>
</span></span></code></pre></div><pre tabindex="0"><code># Вывод:
Counter({&#39;p&#39;: 10, &#39;s&#39;: 8, &#39;i&#39;: 2, &#39;m&#39;: 1})
Counter({&#39;s&#39;: 40, &#39;i&#39;: 10, &#39;p&#39;: 10, &#39;m&#39;: 3})
</code></pre><hr>


<h2 class="relative group"><center>ChainMap</center> 
    <div id="centerchainmapcenter" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#centerchainmapcenter" aria-label="Якорь">#</a>
    </span>        
    
</h2>
<p>Для использования: <code>from collections import ChainMap</code></p>
<p><code>ChainMap</code> представляет из себя объединение нескольких словарей. Этот объект группирует словари вместе, что позволяет рассматривать их как единое целое.</p>
<p><code>ChainMap</code> был добавлен в модуль <code>collections</code> в версии Python 3.3. Этот класс не создаёт новый словарь, вместо этого он хранит ссылки на исходные словари в списке, что, грубо говоря, позволяет программисту иметь несколько одноимённых ключей в одном словаре.</p>
<p>Раз <code>ChainMap</code> содержит ссылки на объекты, то изменение содержания любого словаря, на основании которого создан <code>ChainMap</code>, изменяет и сам <code>ChainMap</code> объект. Аналогично, изменение <code>ChainMap</code> объекта приводит к изменению словаря, на основании которого он создан.</p>
<p>Чтобы создать объект <code>ChainMap</code>, можно, например, передать в конструктор словари:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">ChainMap</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">empty_chain_map</span> <span class="o">=</span> <span class="n">ChainMap</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">empty_chain_map</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">numbers</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;one&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;two&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="n">letters</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="s1">&#39;B&#39;</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">chain_map</span> <span class="o">=</span> <span class="n">ChainMap</span><span class="p">(</span><span class="n">numbers</span><span class="p">,</span> <span class="n">letters</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">chain_map</span><span class="p">)</span>
</span></span></code></pre></div><pre tabindex="0"><code># Вывод:
ChainMap({})
ChainMap({&#39;one&#39;: 1, &#39;two&#39;: 2}, {&#39;a&#39;: &#39;A&#39;, &#39;b&#39;: &#39;B&#39;})
</code></pre><p>В <code>ChainMap</code> можно также передать любой из уже изученных словарей: <code>defaultdict, OrderedDict, Counter</code>. При этом нужно понимать, что поиск по <code>ChainMap</code> объекту будет учитывать особенность поиска по соответствующим словарям. Для <code>defaultdict</code>, в случае если ключ отсутствует, вернётся значение по умолчанию, для <code>Counter</code> — нулевое значение.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">defaultdict</span><span class="p">,</span> <span class="n">OrderedDict</span><span class="p">,</span> <span class="n">Counter</span><span class="p">,</span> <span class="n">ChainMap</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">numbers</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">(</span><span class="n">one</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">two</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">letters</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="s1">&#39;B&#39;</span><span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="n">counter</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="s1">&#39;aabbbcccc&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">chain_map</span> <span class="o">=</span> <span class="n">ChainMap</span><span class="p">(</span><span class="n">numbers</span><span class="p">,</span> <span class="n">letters</span><span class="p">,</span> <span class="n">counter</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">chain_map</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Вывод: ChainMap(OrderedDict([(&#39;one&#39;, 1), (&#39;two&#39;, 2)]), defaultdict(&lt;class &#39;str&#39;&gt;, {&#39;a&#39;: &#39;A&#39;, &#39;b&#39;: &#39;B&#39;}), Counter({&#39;c&#39;: 4, &#39;b&#39;: 3, &#39;a&#39;: 2}))</span>
</span></span></code></pre></div><p>Либо же, можно воспользоваться методом <code>fromkeys()</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">ChainMap</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">chain_map1</span> <span class="o">=</span> <span class="n">ChainMap</span><span class="o">.</span><span class="n">fromkeys</span><span class="p">([</span><span class="s1">&#39;one&#39;</span><span class="p">,</span> <span class="s1">&#39;two&#39;</span><span class="p">,</span> <span class="s1">&#39;three&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="n">chain_map2</span> <span class="o">=</span> <span class="n">ChainMap</span><span class="o">.</span><span class="n">fromkeys</span><span class="p">([</span><span class="s1">&#39;one&#39;</span><span class="p">,</span> <span class="s1">&#39;two&#39;</span><span class="p">,</span> <span class="s1">&#39;three&#39;</span><span class="p">],</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">chain_map1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">chain_map2</span><span class="p">)</span>
</span></span></code></pre></div><pre tabindex="0"><code># Вывод:
ChainMap({&#39;one&#39;: None, &#39;two&#39;: None, &#39;three&#39;: None})
ChainMap({&#39;one&#39;: -1, &#39;two&#39;: -1, &#39;three&#39;: -1})
</code></pre><p>Для получения значений по ключу в <code>ChainMap</code> объектах используется такой же механизм, как и в обычных словарях. Либо мы используем квадратные скобки, либо метод <code>get()</code>. Рассмотрим объект, в котором ключи повторяются:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">ChainMap</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">for_adoption</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;dogs&#39;</span><span class="p">:</span> <span class="mi">15</span><span class="p">,</span> <span class="s1">&#39;cats&#39;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;pythons&#39;</span><span class="p">:</span> <span class="mi">9</span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="n">vet_treatment</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;dogs&#39;</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span> <span class="s1">&#39;cats&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;tigers&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">pets</span> <span class="o">=</span> <span class="n">ChainMap</span><span class="p">(</span><span class="n">for_adoption</span><span class="p">,</span> <span class="n">vet_treatment</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">pets</span><span class="p">[</span><span class="s1">&#39;dogs&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">pets</span><span class="p">[</span><span class="s1">&#39;cats&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">pets</span><span class="p">[</span><span class="s1">&#39;pythons&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">pets</span><span class="p">[</span><span class="s1">&#39;tigers&#39;</span><span class="p">])</span>
</span></span></code></pre></div><pre tabindex="0"><code># Вывод:
15
8
9
3
</code></pre><p>Как видно, в ситуации, когда у объединяемых словарей есть повторяющиеся ключи, возвращается только первое вхождение этого ключа. Таким образом, поиск по <code>ChainMap</code> объекту всегда осуществляется в том же порядке, в котором словари были указаны при создании этого объекта, при этом поиск останавливается, как только значение по нужному ключу найдено.</p>
<p>Встроенная функция <code>len()</code> вернёт количество уникальных ключей <code>ChainMap</code> объекта.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">ChainMap</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">for_adoption</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;dogs&#39;</span><span class="p">:</span> <span class="mi">15</span><span class="p">,</span> <span class="s1">&#39;cats&#39;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;pythons&#39;</span><span class="p">:</span> <span class="mi">9</span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="n">vet_treatment</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;dogs&#39;</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span> <span class="s1">&#39;cats&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;tigers&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">pets</span> <span class="o">=</span> <span class="n">ChainMap</span><span class="p">(</span><span class="n">for_adoption</span><span class="p">,</span> <span class="n">vet_treatment</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">pets</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Вывод: 4</span>
</span></span></code></pre></div>

<h3 class="relative group">Итерирование по <code>ChainMap</code> 
    <div id="%D0%B8%D1%82%D0%B5%D1%80%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5-%D0%BF%D0%BE-chainmap" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%D0%B8%D1%82%D0%B5%D1%80%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5-%D0%BF%D0%BE-chainmap" aria-label="Якорь">#</a>
    </span>        
    
</h3>
<p>Итерирование по <code>ChainMap</code> объекту происходит <strong>в обратном порядке</strong> от последнего указанного словаря к первому.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">ChainMap</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">numbers</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;one&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;two&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="n">letters</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="s1">&#39;B&#39;</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">alpha_num</span> <span class="o">=</span> <span class="n">ChainMap</span><span class="p">(</span><span class="n">numbers</span><span class="p">,</span> <span class="n">letters</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">alpha_num</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="s1">&#39;-&gt;&#39;</span><span class="p">,</span> <span class="n">alpha_num</span><span class="p">[</span><span class="n">key</span><span class="p">])</span>
</span></span></code></pre></div><pre tabindex="0"><code># Вывод:
a -&gt; A
b -&gt; B
one -&gt; 1
two -&gt; 2
</code></pre><p>При этом, если присутствуют дубликаты ключей, возвращаться будет последнее значение (имеется ввиду последнее при итерировании по объекту <code>ChainMap</code>, то есть первое значение, если идти сверху вниз).</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">ChainMap</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">for_adoption</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;dogs&#39;</span><span class="p">:</span> <span class="mi">15</span><span class="p">,</span> <span class="s1">&#39;cats&#39;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;pythons&#39;</span><span class="p">:</span> <span class="mi">9</span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="n">vet_treatment</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;dogs&#39;</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span> <span class="s1">&#39;cats&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;tigers&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">pets</span> <span class="o">=</span> <span class="n">ChainMap</span><span class="p">(</span><span class="n">for_adoption</span><span class="p">,</span> <span class="n">vet_treatment</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">pets</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="s1">&#39;-&gt;&#39;</span><span class="p">,</span> <span class="n">pets</span><span class="p">[</span><span class="n">key</span><span class="p">])</span>
</span></span></code></pre></div><pre tabindex="0"><code># Вывод:
dogs -&gt; 15
cats -&gt; 8
tigers -&gt; 3
pythons -&gt; 9
</code></pre><p>При итерировании, как и с обычными словарями, позволяется использовать методы <code>keys(), values(), items()</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">ChainMap</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">for_adoption</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;dogs&#39;</span><span class="p">:</span> <span class="mi">15</span><span class="p">,</span> <span class="s1">&#39;cats&#39;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;pythons&#39;</span><span class="p">:</span> <span class="mi">9</span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="n">vet_treatment</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;dogs&#39;</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span> <span class="s1">&#39;cats&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;tigers&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">pets</span> <span class="o">=</span> <span class="n">ChainMap</span><span class="p">(</span><span class="n">for_adoption</span><span class="p">,</span> <span class="n">vet_treatment</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">pets</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="s1">&#39;-&gt;&#39;</span><span class="p">,</span> <span class="n">pets</span><span class="p">[</span><span class="n">key</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">pets</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">pets</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="s1">&#39;-&gt;&#39;</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</span></span></code></pre></div><hr>


<h3 class="relative group">Мутация <code>ChainMap</code> 
    <div id="%D0%BC%D1%83%D1%82%D0%B0%D1%86%D0%B8%D1%8F-chainmap" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%D0%BC%D1%83%D1%82%D0%B0%D1%86%D0%B8%D1%8F-chainmap" aria-label="Якорь">#</a>
    </span>        
    
</h3>
<p>Для изменения объектов типа <code>ChainMap</code> можно использовать те же способы, что и для изменения обычного словаря. Позволяется обновлять, добавлять, удалять и извлекать элементы. При этом нужно знать, что все эти операции действуют <strong>только на первый</strong> из объединяемых словарей.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">ChainMap</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">numbers</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;one&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;two&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="n">letters</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="s1">&#39;B&#39;</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">alpha_num</span> <span class="o">=</span> <span class="n">ChainMap</span><span class="p">(</span><span class="n">numbers</span><span class="p">,</span> <span class="n">letters</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">alpha_num</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">alpha_num</span><span class="p">[</span><span class="s1">&#39;c&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;C&#39;</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">alpha_num</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">alpha_num</span><span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;b&#39;</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">alpha_num</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">alpha_num</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;two&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">alpha_num</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">del</span> <span class="n">alpha_num</span><span class="p">[</span><span class="s1">&#39;c&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">alpha_num</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">alpha_num</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">alpha_num</span><span class="p">)</span>
</span></span></code></pre></div><pre tabindex="0"><code># Вывод:
ChainMap({&#39;one&#39;: 1, &#39;two&#39;: 2}, {&#39;a&#39;: &#39;A&#39;, &#39;b&#39;: &#39;B&#39;})
ChainMap({&#39;one&#39;: 1, &#39;two&#39;: 2, &#39;c&#39;: &#39;C&#39;}, {&#39;a&#39;: &#39;A&#39;, &#39;b&#39;: &#39;B&#39;})
ChainMap({&#39;one&#39;: 1, &#39;two&#39;: 2, &#39;c&#39;: &#39;C&#39;, &#39;b&#39;: &#39;b&#39;}, {&#39;a&#39;: &#39;A&#39;, &#39;b&#39;: &#39;B&#39;})
ChainMap({&#39;one&#39;: 1, &#39;c&#39;: &#39;C&#39;, &#39;b&#39;: &#39;b&#39;}, {&#39;a&#39;: &#39;A&#39;, &#39;b&#39;: &#39;B&#39;})
ChainMap({&#39;one&#39;: 1, &#39;b&#39;: &#39;b&#39;}, {&#39;a&#39;: &#39;A&#39;, &#39;b&#39;: &#39;B&#39;})
ChainMap({}, {&#39;a&#39;: &#39;A&#39;, &#39;b&#39;: &#39;B&#39;})
</code></pre>
  



<div
  
    class="flex px-4 py-3 rounded-md bg-primary-100 dark:bg-primary-900"
  >

  <span
    
      class="text-primary-400 ltr:pr-3 rtl:pl-3 flex items-center"
    >

    

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 0C114.6 0 0 114.6 0 256s114.6 256 256 256s256-114.6 256-256S397.4 0 256 0zM256 128c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S224 177.7 224 160C224 142.3 238.3 128 256 128zM296 384h-80C202.8 384 192 373.3 192 360s10.75-24 24-24h16v-64H224c-13.25 0-24-10.75-24-24S210.8 224 224 224h32c13.25 0 24 10.75 24 24v88h16c13.25 0 24 10.75 24 24S309.3 384 296 384z"/></svg>

  </span>


  </span>

  <span
    
      class="dark:text-neutral-300"
    >При попытке удаления значения по ключу, которого нет <strong>в первом словаре</strong>, возникает ошибка <code>KeyError</code></span>
</div>

<p>Указывая в качестве первого аргумента для <code>ChainMap</code> пустой словарь, получается поведение, при котором все изменения <code>ChainMap</code> объекта не затрагивают объединяемые (исходные) словари.</p>
<hr>


<h3 class="relative group">Сравнение <code>ChainMap</code> 
    <div id="%D1%81%D1%80%D0%B0%D0%B2%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5-chainmap" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%D1%81%D1%80%D0%B0%D0%B2%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5-chainmap" aria-label="Якорь">#</a>
    </span>        
    
</h3>
<p>Два объекта типа <code>ChainMap</code> (к примеру, <code>chainmap1</code> и <code>chainmap2</code>) считаются равными, если значение следующего выражения равно <code>True</code>: <code>dict(chainmap1.items()) == dict(chainmap2.items())</code>.</p>
<p>Учитывая специфику работы метода <code>items()</code>, равенство двух объектов типа <code>ChainMap</code> не гарантирует того, что эти объекты в точности совпадают:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">ChainMap</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">chainmap1</span> <span class="o">=</span> <span class="n">ChainMap</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">20</span><span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="n">chainmap2</span> <span class="o">=</span> <span class="n">ChainMap</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">20</span><span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">chainmap1</span> <span class="o">==</span> <span class="n">chainmap2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">chainmap1</span> <span class="o">=</span> <span class="n">ChainMap</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">20</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="n">chainmap2</span> <span class="o">=</span> <span class="n">ChainMap</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">20</span><span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">chainmap1</span> <span class="o">==</span> <span class="n">chainmap2</span><span class="p">)</span>
</span></span></code></pre></div><pre tabindex="0"><code># Вывод:
True
True
</code></pre><hr>


<h3 class="relative group">Атрибут <code>maps</code> 
    <div id="%D0%B0%D1%82%D1%80%D0%B8%D0%B1%D1%83%D1%82-maps" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%D0%B0%D1%82%D1%80%D0%B8%D0%B1%D1%83%D1%82-maps" aria-label="Якорь">#</a>
    </span>        
    
</h3>
<p>Как уже было сказано, Объект <code>ChainMap</code> хранит ссылки на все объединяемые словари во внутреннем списке, который доступен через атрибут <code>maps</code> и может быть изменён. Порядок словарей в списке <code>maps</code> соответствует порядку, в котором словари были указаны при создании объекта <code>ChainMap</code>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">ChainMap</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">for_adoption</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;dogs&#39;</span><span class="p">:</span> <span class="mi">15</span><span class="p">,</span> <span class="s1">&#39;cats&#39;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;pythons&#39;</span><span class="p">:</span> <span class="mi">9</span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="n">vet_treatment</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;dogs&#39;</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span> <span class="s1">&#39;cats&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;tigers&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">pets</span> <span class="o">=</span> <span class="n">ChainMap</span><span class="p">(</span><span class="n">for_adoption</span><span class="p">,</span> <span class="n">vet_treatment</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">pets</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">pets</span><span class="o">.</span><span class="n">maps</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">pets</span><span class="o">.</span><span class="n">maps</span><span class="p">))</span>
</span></span></code></pre></div><pre tabindex="0"><code># Вывод:
ChainMap({&#39;dogs&#39;: 15, &#39;cats&#39;: 8, &#39;pythons&#39;: 9}, {&#39;dogs&#39;: 7, &#39;cats&#39;: 2, &#39;tigers&#39;: 3})
[{&#39;dogs&#39;: 15, &#39;cats&#39;: 8, &#39;pythons&#39;: 9}, {&#39;dogs&#39;: 7, &#39;cats&#39;: 2, &#39;tigers&#39;: 3}]
&lt;class &#39;list&#39;&gt;
</code></pre>
  



<div
  
    class="flex px-4 py-3 rounded-md bg-primary-100 dark:bg-primary-900"
  >

  <span
    
      class="text-primary-400 ltr:pr-3 rtl:pl-3 flex items-center"
    >

    

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 0C114.6 0 0 114.6 0 256s114.6 256 256 256s256-114.6 256-256S397.4 0 256 0zM256 128c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S224 177.7 224 160C224 142.3 238.3 128 256 128zM296 384h-80C202.8 384 192 373.3 192 360s10.75-24 24-24h16v-64H224c-13.25 0-24-10.75-24-24S210.8 224 224 224h32c13.25 0 24 10.75 24 24v88h16c13.25 0 24 10.75 24 24S309.3 384 296 384z"/></svg>

  </span>


  </span>

  <span
    
      class="dark:text-neutral-300"
    >При создании пустого <code>ChainMap</code> объекта его <code>maps</code> будет содержать пустой словарь.</span>
</div>

<p>Атрибут <code>maps</code> является обычным списком, поэтому он поддерживает все основные операции со списками. Мы можем добавлять в него новые словари, удалять уже добавленные, а также изменять их порядок.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">ChainMap</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">for_adoption</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;dogs&#39;</span><span class="p">:</span> <span class="mi">15</span><span class="p">,</span> <span class="s1">&#39;cats&#39;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;pythons&#39;</span><span class="p">:</span> <span class="mi">9</span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="n">vet_treatment</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;dogs&#39;</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span> <span class="s1">&#39;cats&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;tigers&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">pets</span> <span class="o">=</span> <span class="n">ChainMap</span><span class="p">(</span><span class="n">for_adoption</span><span class="p">,</span> <span class="n">vet_treatment</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">pets</span><span class="o">.</span><span class="n">maps</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="n">pets</span><span class="o">.</span><span class="n">maps</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;lions&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">10</span>
</span></span><span class="line"><span class="cl"><span class="k">del</span> <span class="n">pets</span><span class="o">.</span><span class="n">maps</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="s1">&#39;cats&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">pets</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">pets</span><span class="o">.</span><span class="n">maps</span><span class="p">)</span>
</span></span></code></pre></div><pre tabindex="0"><code># Вывод:
ChainMap({&#39;dogs&#39;: 7, &#39;cats&#39;: 2, &#39;tigers&#39;: 3, &#39;lions&#39;: 10}, {&#39;dogs&#39;: 15, &#39;pythons&#39;: 9})
[{&#39;dogs&#39;: 7, &#39;cats&#39;: 2, &#39;tigers&#39;: 3, &#39;lions&#39;: 10}, {&#39;dogs&#39;: 15, &#39;pythons&#39;: 9}]
</code></pre>
  



<div
  
    class="flex px-4 py-3 rounded-md bg-primary-100 dark:bg-primary-900"
  >

  <span
    
      class="text-primary-400 ltr:pr-3 rtl:pl-3 flex items-center"
    >

    

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 0C114.6 0 0 114.6 0 256s114.6 256 256 256s256-114.6 256-256S397.4 0 256 0zM256 128c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S224 177.7 224 160C224 142.3 238.3 128 256 128zM296 384h-80C202.8 384 192 373.3 192 360s10.75-24 24-24h16v-64H224c-13.25 0-24-10.75-24-24S210.8 224 224 224h32c13.25 0 24 10.75 24 24v88h16c13.25 0 24 10.75 24 24S309.3 384 296 384z"/></svg>

  </span>


  </span>

  <span
    
      class="dark:text-neutral-300"
    >Изменяя порядок словарей в списке атрибута <code>maps</code>, мы также меняем сами объединяемые словари, а также порядок поиска в объекте <code>ChainMap</code></span>
</div>

<p>Атрибут <code>maps</code> можно использовать для обработки абсолютно всех значений во всех словарях. С помощью этого атрибута мы можем обойти поведение по умолчанию, заключающееся в получении (изменении) первого значения из первого словаря.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">ChainMap</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">for_adoption</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;dogs&#39;</span><span class="p">:</span> <span class="mi">15</span><span class="p">,</span> <span class="s1">&#39;cats&#39;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;pythons&#39;</span><span class="p">:</span> <span class="mi">9</span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="n">vet_treatment</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;dogs&#39;</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span> <span class="s1">&#39;cats&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;tigers&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">pets</span> <span class="o">=</span> <span class="n">ChainMap</span><span class="p">(</span><span class="n">for_adoption</span><span class="p">,</span> <span class="n">vet_treatment</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">animals</span> <span class="ow">in</span> <span class="n">pets</span><span class="o">.</span><span class="n">maps</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">animals</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="s1">&#39;-&gt;&#39;</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</span></span></code></pre></div><pre tabindex="0"><code># Вывод:
dogs -&gt; 15
cats -&gt; 8
pythons -&gt; 9
dogs -&gt; 7
cats -&gt; 2
tigers -&gt; 3
</code></pre><hr>


<h3 class="relative group">Метод <code>new_child()</code> 
    <div id="%D0%BC%D0%B5%D1%82%D0%BE%D0%B4-new_child" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%D0%BC%D0%B5%D1%82%D0%BE%D0%B4-new_child" aria-label="Якорь">#</a>
    </span>        
    
</h3>
<p><code>new_child()</code> возвращает <strong>новый объект</strong> <code>ChainMap()</code>, содержащий новый переданный словарь в качестве первого элемента, за которым следуют все исходные словари объекта, к которому этот метод применялся. Вызов этого метода (например, <code>d.new_child()</code>) эквивалентен вызову <code>ChainMap({}, *d.maps)</code>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">ChainMap</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">dad</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Timur&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span><span class="p">:</span> <span class="mi">29</span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="n">mom</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Rosaly&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span><span class="p">:</span> <span class="mi">28</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">old_family</span> <span class="o">=</span> <span class="n">ChainMap</span><span class="p">(</span><span class="n">dad</span><span class="p">,</span> <span class="n">mom</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">son</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Soslan&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">new_family</span> <span class="o">=</span> <span class="n">old_family</span><span class="o">.</span><span class="n">new_child</span><span class="p">(</span><span class="n">son</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">old_family</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">new_family</span><span class="p">)</span>
</span></span></code></pre></div><pre tabindex="0"><code># Вывод:
ChainMap({&#39;name&#39;: &#39;Timur&#39;, &#39;age&#39;: 29}, {&#39;name&#39;: &#39;Rosaly&#39;, &#39;age&#39;: 28})
ChainMap({&#39;name&#39;: &#39;Soslan&#39;, &#39;age&#39;: 0}, {&#39;name&#39;: &#39;Timur&#39;, &#39;age&#39;: 29}, {&#39;name&#39;: &#39;Rosaly&#39;, &#39;age&#39;: 28})
</code></pre><hr>


<h3 class="relative group">Атрибут <code>parents</code> 
    <div id="%D0%B0%D1%82%D1%80%D0%B8%D0%B1%D1%83%D1%82-parents" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%D0%B0%D1%82%D1%80%D0%B8%D0%B1%D1%83%D1%82-parents" aria-label="Якорь">#</a>
    </span>        
    
</h3>
<p><code>parents</code> возвращает <strong>новый объект</strong> <code>ChainMap</code>, содержащий все словари, кроме первого. Может пригодиться в случае, когда нужно пропустить первый словарь при поиске ключей. Обращение к этому атрибуту (например, <code>d.parents</code>) эквивалентно вызову <code>ChainMap(*d.maps[1:])</code>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">ChainMap</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">dad</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Timur&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span><span class="p">:</span> <span class="mi">29</span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="n">mom</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Rosaly&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span><span class="p">:</span> <span class="mi">28</span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="n">son</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Soslan&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">family</span> <span class="o">=</span> <span class="n">ChainMap</span><span class="p">(</span><span class="n">son</span><span class="p">,</span> <span class="n">dad</span><span class="p">,</span> <span class="n">mom</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">family</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">family</span><span class="o">.</span><span class="n">parents</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">family</span><span class="o">.</span><span class="n">parents</span><span class="p">))</span>
</span></span></code></pre></div><pre tabindex="0"><code># Вывод:
ChainMap({&#39;name&#39;: &#39;Soslan&#39;, &#39;age&#39;: 0}, {&#39;name&#39;: &#39;Timur&#39;, &#39;age&#39;: 29}, {&#39;name&#39;: &#39;Rosaly&#39;, &#39;age&#39;: 28})
ChainMap({&#39;name&#39;: &#39;Timur&#39;, &#39;age&#39;: 29}, {&#39;name&#39;: &#39;Rosaly&#39;, &#39;age&#39;: 28})
&lt;class &#39;collections.ChainMap&#39;&gt;
</code></pre><hr>


<h3 class="relative group">Где используется 
    <div id="%D0%B3%D0%B4%D0%B5-%D0%B8%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D1%83%D0%B5%D1%82%D1%81%D1%8F" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%D0%B3%D0%B4%D0%B5-%D0%B8%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D1%83%D0%B5%D1%82%D1%81%D1%8F" aria-label="Якорь">#</a>
    </span>        
    
</h3>
<p>Основным вариантом использования <code>ChainMap</code> является эффективное управление несколькими областями видимости и определение приоритетов доступа дубликатов ключей. Например, в документации по <code>ChainMap</code> можно найти, как Python обращается к именами переменных в разных пространствах имён. Когда интерпретатор ищет имя (переменную), он последовательно обращается к локальной, глобальной и встроенной (<code>print, list, input</code> и т.д.) областям видимости, которые представляют из себя словари, отображающие имена на объекты.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">ChainMap</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">builtins</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">input</span> <span class="o">=</span> <span class="mi">42</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">pylookup</span> <span class="o">=</span> <span class="n">ChainMap</span><span class="p">(</span><span class="nb">locals</span><span class="p">(),</span> <span class="nb">globals</span><span class="p">(),</span> <span class="nb">vars</span><span class="p">(</span><span class="n">builtins</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">pylookup</span><span class="p">[</span><span class="s2">&#34;input&#34;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">del</span> <span class="nb">globals</span><span class="p">()[</span><span class="s2">&#34;input&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">pylookup</span><span class="p">[</span><span class="s2">&#34;input&#34;</span><span class="p">])</span>
</span></span></code></pre></div><pre tabindex="0"><code># Вывод:
42
&lt;built-in function input&gt;
</code></pre><p>Вообще, варианты применения этого типа данных довольно специфичны:</p>
<ul>
<li>Эффективная группировка нескольких словарей в одном представлении</li>
<li>Поиск по нескольким словарям с определенным приоритетом</li>
<li>Представление цепочки значений по умолчанию и управление их приоритетами</li>
<li>Повышение производительности кода, который часто вычисляет подмножества словаря</li>
</ul>
<hr>


<h2 class="relative group"><center>Deque</center> 
    <div id="centerdequecenter" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#centerdequecenter" aria-label="Якорь">#</a>
    </span>        
    
</h2>
<p>Для использования: <code>from collections import deque</code></p>
<p><code>deque</code> (произносится как &ldquo;deck&rdquo; — double-ended queue) — низкоуровневая и высоко оптимизированная двусторонняя очередь. Эта коллекция реализована через двусвязный список (т.е. каждый элемент дека содержит указатели на предыдущий и последующий элементы, если таковы имеются), поэтому она поддерживает экономичные с точки зрения памяти и быстрые (примерно O(1)) добавление и удаление элементов на обоих концах структуры данных.</p>
<p>Для создания объекта <code>deque</code> можно использовать различные итерируемые объекты. Если ничего не передать, создастся дек с пустым списком внутри. Вторым параметром функции <code>deque</code> является <code>maxlen=None</code> — он задаёт максимальный размер дека. В случае, если количество элементов будет больше, чем указано в <code>maxlen</code>, в коллекции окажутся только последние.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">deque</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">deque</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">deque</span><span class="p">(</span><span class="s2">&#34;abcd&#34;</span><span class="p">,</span> <span class="n">maxlen</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>
</span></span></code></pre></div><pre tabindex="0"><code># Вывод:
deque([1, 2, 3, 4, 5])
deque([&#39;c&#39;, &#39;d&#39;], maxlen=2)
</code></pre>

<h3 class="relative group">Добавление и удаление элементов 
    <div id="%D0%B4%D0%BE%D0%B1%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5-%D0%B8-%D1%83%D0%B4%D0%B0%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5-%D1%8D%D0%BB%D0%B5%D0%BC%D0%B5%D0%BD%D1%82%D0%BE%D0%B2" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%D0%B4%D0%BE%D0%B1%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5-%D0%B8-%D1%83%D0%B4%D0%B0%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5-%D1%8D%D0%BB%D0%B5%D0%BC%D0%B5%D0%BD%D1%82%D0%BE%D0%B2" aria-label="Якорь">#</a>
    </span>        
    
</h3>
<p>У <code>deque</code> есть собственные методы <code>pop</code> и <code>append</code>, которые удаляют и добавляют элементы соответственно с конца дека, в то время как методы <code>popleft</code> и <code>appendleft</code> делают то же самое, но с начала коллекции. Важно уточнить, что ни один из этих методов не принимает аргументы, например как <code>pop()</code> в списке Python, поэтому удалять элементы по индексу таким образом не получится.</p>
<p>
    <figure>
      <img
        class="my-0 rounded-md"
        loading="lazy"
        src="/HFK_website/posts/collections2/images/image1.jpeg"
        alt=""
      />
      
    </figure>
</p>
<p>Двусвязные очереди (двусвязные списки), на основе которых реализован дек в Python, упрощают добавление и удаление элементов с обоих концов, поскольку после этих операций приходится обновлять только указатели. Эти же операции с левого конца в <code>list</code> Python требуют перемещение всех элементов списка, из-за чего сложность становится O(n). Кроме того, для добавления элементов в правый конец списка Python перераспределяет память и зачастую копирует исходные данные в другую область памяти, чтобы уместить новый список.<br>
Для наглядности сравним скорости добавления элементов в левый конец <code>list</code> и <code>deque</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">deque</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">time</span> <span class="kn">import</span> <span class="n">perf_counter</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">TIMES</span> <span class="o">=</span> <span class="mi">10_000</span>
</span></span><span class="line"><span class="cl"><span class="n">a_list</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl"><span class="n">a_deque</span> <span class="o">=</span> <span class="n">deque</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">average_time</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">times</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">total</span> <span class="o">=</span> <span class="mf">0.0</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">times</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="n">start</span> <span class="o">=</span> <span class="n">perf_counter</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="n">func</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">total</span> <span class="o">+=</span> <span class="p">(</span><span class="n">perf_counter</span><span class="p">()</span> <span class="o">-</span> <span class="n">start</span><span class="p">)</span> <span class="o">*</span> <span class="mf">1e9</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">total</span> <span class="o">/</span> <span class="n">times</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">list_time</span> <span class="o">=</span> <span class="n">average_time</span><span class="p">(</span><span class="k">lambda</span> <span class="n">i</span><span class="p">:</span> <span class="n">a_list</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">i</span><span class="p">),</span> <span class="n">TIMES</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">deque_time</span> <span class="o">=</span> <span class="n">average_time</span><span class="p">(</span><span class="k">lambda</span> <span class="n">i</span><span class="p">:</span> <span class="n">a_deque</span><span class="o">.</span><span class="n">appendleft</span><span class="p">(</span><span class="n">i</span><span class="p">),</span> <span class="n">TIMES</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">gain</span> <span class="o">=</span> <span class="n">list_time</span> <span class="o">/</span> <span class="n">deque_time</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;list.insert()      </span><span class="si">{</span><span class="n">list_time</span><span class="si">:</span><span class="s2">.6</span><span class="si">}</span><span class="s2"> ns&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;deque.appendleft() </span><span class="si">{</span><span class="n">deque_time</span><span class="si">:</span><span class="s2">.6</span><span class="si">}</span><span class="s2"> ns  (</span><span class="si">{</span><span class="n">gain</span><span class="si">:</span><span class="s2">.6</span><span class="si">}</span><span class="s2">x faster)&#34;</span><span class="p">)</span>
</span></span></code></pre></div><pre tabindex="0"><code># Вывод:
list.insert()      2528.63 ns
deque.appendleft() 97.34 ns  (25.9773x faster)
</code></pre>
  
  
  
  



<div
  
    class="flex px-4 py-3 rounded-md"
    style="background-color: #e63946"
  >

  <span
    
      class="ltr:pr-3 rtl:pl-3 flex items-center"
      style="color: #1d3557"
    >

    

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
<path fill="currentColor"  d="M159.3 5.4c7.8-7.3 19.9-7.2 27.7 .1c27.6 25.9 53.5 53.8 77.7 84c11-14.4 23.5-30.1 37-42.9c7.9-7.4 20.1-7.4 28 .1c34.6 33 63.9 76.6 84.5 118c20.3 40.8 33.8 82.5 33.8 111.9C448 404.2 348.2 512 224 512C98.4 512 0 404.1 0 276.5c0-38.4 17.8-85.3 45.4-131.7C73.3 97.7 112.7 48.6 159.3 5.4zM225.7 416c25.3 0 47.7-7 68.8-21c42.1-29.4 53.4-88.2 28.1-134.4c-2.8-5.6-5.6-11.2-9.8-16.8l-50.6 58.8s-81.4-103.6-87.1-110.6C133.1 243.8 112 273.2 112 306.8C112 375.4 162.6 416 225.7 416z"/></svg>
  </span>


  </span>

  <span
    
      style="color: #f1faee"
    >Разумеется, попытка удаления элемента из пустого дека приведёт к ошибке</span>
</div>

<hr>


<h3 class="relative group">Доступ к элементам дека 
    <div id="%D0%B4%D0%BE%D1%81%D1%82%D1%83%D0%BF-%D0%BA-%D1%8D%D0%BB%D0%B5%D0%BC%D0%B5%D0%BD%D1%82%D0%B0%D0%BC-%D0%B4%D0%B5%D0%BA%D0%B0" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%D0%B4%D0%BE%D1%81%D1%82%D1%83%D0%BF-%D0%BA-%D1%8D%D0%BB%D0%B5%D0%BC%D0%B5%D0%BD%D1%82%D0%B0%D0%BC-%D0%B4%D0%B5%D0%BA%D0%B0" aria-label="Якорь">#</a>
    </span>        
    
</h3>
<p><code>deque()</code> возвращает изменяемый объект, работающий подобно списку, соответственно, у них есть схожие методы. Тем не менее, список основан на массиве, в то время как дек — на двусвязном очереди, что делает доступ, вставку и удаление произвольных элементов неэффективными операциями (O(n)).</p>
<p>Дек поддерживает:</p>
<ul>
<li>Индексацию;</li>
<li><code>insert(i, value)</code> — вставляет элемент <code>value</code> по индексу <code>i</code>, изменяя индексы последующих элементов;</li>
<li><code>remove(value)</code> — удаляет первый встретившийся элемент <code>value</code>;</li>
<li><code>del obj[i]</code> — удаляет элемент по индексу <code>i</code>.</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">deque</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">letters</span> <span class="o">=</span> <span class="n">deque</span><span class="p">(</span><span class="s2">&#34;abded&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">letters</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">letters</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s2">&#34;c&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">letters</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">letters</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s2">&#34;d&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">letters</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">del</span> <span class="n">letters</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">letters</span><span class="p">)</span>
</span></span></code></pre></div><pre tabindex="0"><code># Вывод:
b
deque([&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;, &#39;d&#39;])
deque([&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;e&#39;, &#39;d&#39;])
deque([&#39;a&#39;, &#39;b&#39;, &#39;e&#39;, &#39;d&#39;])
</code></pre>
  



<div
  
    class="flex px-4 py-3 rounded-md bg-primary-100 dark:bg-primary-900"
  >

  <span
    
      class="text-primary-400 ltr:pr-3 rtl:pl-3 flex items-center"
    >

    

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 0C114.6 0 0 114.6 0 256s114.6 256 256 256s256-114.6 256-256S397.4 0 256 0zM256 128c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S224 177.7 224 160C224 142.3 238.3 128 256 128zM296 384h-80C202.8 384 192 373.3 192 360s10.75-24 24-24h16v-64H224c-13.25 0-24-10.75-24-24S210.8 224 224 224h32c13.25 0 24 10.75 24 24v88h16c13.25 0 24 10.75 24 24S309.3 384 296 384z"/></svg>

  </span>


  </span>

  <span
    
      class="dark:text-neutral-300"
    >Хоть <code>deque</code> и поддерживает индексацию, он <strong>не поддерживает срезы</strong>.</span>
</div>

<hr>


<h3 class="relative group">Другие методы <code>deque</code> 
    <div id="%D0%B4%D1%80%D1%83%D0%B3%D0%B8%D0%B5-%D0%BC%D0%B5%D1%82%D0%BE%D0%B4%D1%8B-deque" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%D0%B4%D1%80%D1%83%D0%B3%D0%B8%D0%B5-%D0%BC%D0%B5%D1%82%D0%BE%D0%B4%D1%8B-deque" aria-label="Якорь">#</a>
    </span>        
    
</h3>
<ul>
<li><code>clear()</code> — очищает дек;</li>
<li><code>reverse()</code> — &ldquo;разворачивает&rdquo; дек;</li>
<li><code>rotate(n)</code> — последовательно переносит <code>n</code> элементов с конца в начало дека (наоборот при отрицательном <code>n</code>);</li>
<li><code>extend(iterable)</code> — добавляет в конец дека элементы итерируемого объекта <code>iterable</code>;</li>
<li><code>extendleft(iterable)</code> — добавляет в начало дека элементы итерируемого объекта <code>iterable</code>;</li>
<li><code>copy()</code> — создаёт поверхностную копию дека;</li>
<li><code>count(x)</code> — подсчитывает количество вхождений элементов, равных <code>x</code>, в деке;</li>
<li><code>index(x)</code> — возвращает индекс первого элемента в деке, равного <code>x</code>.</li>
</ul>
<hr>


<h2 class="relative group"><center>Array</center> 
    <div id="centerarraycenter" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#centerarraycenter" aria-label="Якорь">#</a>
    </span>        
    
</h2>
<hr>
<p><strong>Основной источник:</strong> <a href="https://stepik.org/course/82541" target="_blank">https://stepik.org/course/82541</a></p>
<p>Дополнительные источники:</p>
<ul>
<li><a href="https://realpython.com/" target="_blank">Real Python</a></li>
<li><a href="https://docs.python.org/3/library/collections.html" target="_blank">Python Docs</a></li>
</ul>

        </div>
        
        

        
<details style="margin-left:0px" class="mt-2 mb-5 overflow-hidden rounded-lg ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5">
    
    <summary
        class="py-1 text-lg font-semibold cursor-pointer bg-primary-200 text-neutral-800 ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 dark:bg-primary-800 dark:text-neutral-100">
        Python - This article is part of a series.
    </summary>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        <a href="http://localhost:1313/HFK_website/posts/memory_python/">
            Part 1: Устройство памяти в Python
        </a>
    </div>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        <a href="http://localhost:1313/HFK_website/posts/collections/">
            Part 2: Коллекции в Python
        </a>
    </div>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        <a href="http://localhost:1313/HFK_website/posts/variables_python/">
            Part 3: Переменные и объекты в Python
        </a>
    </div>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        <a href="http://localhost:1313/HFK_website/posts/random_string/">
            Part 4: Модули string и random
        </a>
    </div>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        <a href="http://localhost:1313/HFK_website/posts/frac_dec_compl/">
            Part 5: Decimal, Fraction и комплексные числа в Python
        </a>
    </div>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        <a href="http://localhost:1313/HFK_website/posts/turtle/">
            Part 6: Черепашья графика
        </a>
    </div>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        <a href="http://localhost:1313/HFK_website/posts/functions/">
            Part 7: Функции в Python
        </a>
    </div>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        <a href="http://localhost:1313/HFK_website/posts/work_with_files/">
            Part 8: Работа с txt файлами в Python
        </a>
    </div>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        <a href="http://localhost:1313/HFK_website/posts/date_and_time_1/">
            Part 9: Работа с датой и временем. Часть 1
        </a>
    </div>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        <a href="http://localhost:1313/HFK_website/posts/date_and_time_2/">
            Part 10: Работа с датой и временем. Часть 2
        </a>
    </div>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        <a href="http://localhost:1313/HFK_website/posts/stdin_stdout/">
            Part 11: Потоковый ввод и вывод
        </a>
    </div>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        <a href="http://localhost:1313/HFK_website/posts/csv_json/">
            Part 12: Работа с csv и json файлами в Python
        </a>
    </div>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        <a href="http://localhost:1313/HFK_website/posts/zip_pkl/">
            Part 13: Работа с zip и pkl файлами в Python
        </a>
    </div>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        <a href="http://localhost:1313/HFK_website/posts/os_shutil_shelve/">
            Part 14: Модули os, shutil и shelve
        </a>
    </div>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        Part 15: This Article
    </div>
    
    


</details>

        
  
  <section class="flex flex-row flex-wrap justify-center pt-4 text-xl">
    
      
      <a
      target="_blank"
      class="m-1 rounded bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800"
      href="https://t.me/share/url?url=http://localhost:1313/HFK_website/posts/collections2/&amp;resubmit=true&amp;title=%d0%94%d0%be%d0%bf%d0%be%d0%bb%d0%bd%d0%b8%d1%82%d0%b5%d0%bb%d1%8c%d0%bd%d1%8b%d0%b5%20%d1%82%d0%b8%d0%bf%d1%8b%20%d0%ba%d0%be%d0%bb%d0%bb%d0%b5%d0%ba%d1%86%d0%b8%d0%b9%20%d0%b2%20Python"
      title=""
      aria-label=""
      >
      

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M248,8C111.033,8,0,119.033,0,256S111.033,504,248,504,496,392.967,496,256,384.967,8,248,8ZM362.952,176.66c-3.732,39.215-19.881,134.378-28.1,178.3-3.476,18.584-10.322,24.816-16.948,25.425-14.4,1.326-25.338-9.517-39.287-18.661-21.827-14.308-34.158-23.215-55.346-37.177-24.485-16.135-8.612-25,5.342-39.5,3.652-3.793,67.107-61.51,68.335-66.746.153-.655.3-3.1-1.154-4.384s-3.59-.849-5.135-.5q-3.283.746-104.608,69.142-14.845,10.194-26.894,9.934c-8.855-.191-25.888-5.006-38.551-9.123-15.531-5.048-27.875-7.717-26.8-16.291q.84-6.7,18.45-13.7,108.446-47.248,144.628-62.3c68.872-28.647,83.183-33.623,92.511-33.789,2.052-.034,6.639.474,9.61,2.885a10.452,10.452,0,0,1,3.53,6.716A43.765,43.765,0,0,1,362.952,176.66Z"/></svg>

  </span>


    </a>
      
    
  </section>


          
      </div>
     
      
      
        
        
          
          
        
      <script>
        var oid = "views_posts\\collections2\\index.md"
        var oid_likes = "likes_posts\\collections2\\index.md"
      </script>
      
      
      
      <script type="text/javascript" src="/HFK_website/js/page.min.0860cf4e04fa2d72cc33ddba263083464d48f67de06114529043cb4623319efed4f484fd7f1730df5abea0e2da6f3538855634081d02f2d6e920b956f063e823.js" integrity="sha512-CGDPTgT6LXLMM926JjCDRk1I9n3gYRRSkEPLRiMxnv7U9IT9fxcw31q&#43;oOLabzU4hVY0CB0C8tbpILlW8GPoIw=="></script>
  
    </section>
  <footer class="pt-8 max-w-prose print:hidden">

    
  
    
    
    
    <div class="pt-8">
      <hr class="border-dotted border-neutral-300 dark:border-neutral-600" />
      <div class="flex justify-between pt-3">
        <span>
          
            <a class="flex group mr-3" href="/HFK_website/posts/variables_python/">
              <span
                class="mr-3 text-neutral-700 group-hover:text-primary-600 ltr:inline rtl:hidden dark:text-neutral dark:group-hover:text-primary-400"
                >&larr;</span
              >
              <span
                class="ml-3 text-neutral-700 group-hover:text-primary-600 ltr:hidden rtl:inline dark:text-neutral dark:group-hover:text-primary-400"
                >&rarr;</span
              >
              <span class="flex flex-col">
                <span
                  class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500"
                  >Переменные и объекты в Python</span
                >
                <span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400">
                  
                    <time datetime="2024-07-18 00:00:00 &#43;0000 UTC">18 июля 2024</time>
                  
                </span>
              </span>
            </a>
          
        </span>
        <span>
          
            <a class="flex text-right group ml-3" href="/HFK_website/posts/basic_of_statistics/">
              <span class="flex flex-col">
                <span
                  class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500"
                  >Основы статистики</span
                >
                <span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400">
                  
                    <time datetime="2024-09-16 00:00:00 &#43;0000 UTC">16 сентября 2024</time>
                  
                </span>
              </span>
              <span
                class="ml-3 text-neutral-700 group-hover:text-primary-600 ltr:inline rtl:hidden dark:text-neutral dark:group-hover:text-primary-400"
                >&rarr;</span
              >
              <span
                class="mr-3 text-neutral-700 group-hover:text-primary-600 ltr:hidden rtl:inline dark:text-neutral dark:group-hover:text-primary-400"
                >&larr;</span
              >
            </a>
          
        </span>
      </div>
    </div>
  


    
  </footer>
</article>

      <div id="top-scroller" class="pointer-events-none absolute top-[110vh] bottom-0 w-12 ltr:right-0 rtl:left-0">
  <a href="#the-top"
    class="pointer-events-auto sticky top-[calc(100vh-5.5rem)] flex h-12 w-12 mb-16 items-center justify-center rounded-full bg-neutral/50 text-xl text-neutral-700 hover:text-primary-600 dark:bg-neutral-800/50 dark:text-neutral dark:hover:text-primary-400"
    aria-label="Пролистать наверх" title="Пролистать наверх">
    &uarr;
  </a>
</div>
    </main><footer id="site-footer" class="py-10 print:hidden">
  
  
    
    <nav class="flex flex-row pb-4 text-base font-medium text-neutral-500 dark:text-neutral-400">
      <ul class="flex flex-col list-none sm:flex-row">
        
        <li class="flex mb-1 ltr:text-right rtl:text-left sm:mb-0 ltr:sm:mr-7 ltr:sm:last:mr-0 rtl:sm:ml-7 rtl:sm:last:ml-0">
          <a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2 flex items-center" href="/HFK_website/tags/"
            title="">
            
            Теги
          </a>
        </li>
        
        <li class="flex mb-1 ltr:text-right rtl:text-left sm:mb-0 ltr:sm:mr-7 ltr:sm:last:mr-0 rtl:sm:ml-7 rtl:sm:last:ml-0">
          <a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2 flex items-center" href="/HFK_website/authors/"
            title="">
            
            Авторы
          </a>
        </li>
        
      </ul>
    </nav>
    
  
  <div class="flex items-center justify-between">

    
    
    <p class="text-sm text-neutral-500 dark:text-neutral-400">
      &copy;
      2024
      Иван Бережной
    </p>
    

    
    
    <p class="text-xs text-neutral-500 dark:text-neutral-400">
      
      
      Работает на <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500"
        href="https://gohugo.io/" target="_blank" rel="noopener noreferrer">Hugo</a> &amp; <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500"
        href="https://blowfish.page/" target="_blank" rel="noopener noreferrer">Blowfish</a>
    </p>
    

  </div>
  <script>
    
    mediumZoom(document.querySelectorAll("img:not(.nozoom)"), {
      margin: 24,
      background: 'rgba(0,0,0,0.5)',
      scrollOffset: 0,
    })
    
  </script>
  
  
  <script type="text/javascript" src="/HFK_website/js/process.min.ee03488f19c93c2efb199e2e3014ea5f3cb2ce7d45154adb3399a158cac27ca52831db249ede5bb602700ef87eb02434139de0858af1818ab0fb4182472204a4.js" integrity="sha512-7gNIjxnJPC77GZ4uMBTqXzyyzn1FFUrbM5mhWMrCfKUoMdsknt5btgJwDvh&#43;sCQ0E53ghYrxgYqw&#43;0GCRyIEpA=="></script>
  
  
</footer>

  </div>
</body>

</html>
